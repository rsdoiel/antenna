---
title: News gathered 2024-11-04
updated: 2024-11-04 07:15:51
---

# News gathered 2024-11-04

(date: 2024-11-04 07:15:51)

---

## A Monster Assembled Entirely From Human Flaws

date: 2024-11-04, updated: 2024-11-04, from: One Foot Tsunami

 

<br> 

<https://onefoottsunami.com/2024/11/04/a-monster-assembled-entirely-from-human-flaws/>

---

## Netflix Bullish on Gen AI for Games After Laying Off Human Game Developers

date: 2024-11-04, from: 404 Media Group

Netflix exec says Generative AI is a ‘once in a generation’ inflection point for video game development. 

<br> 

<https://www.404media.co/netflix-games-ai-exec/>

---

## 404 Media Is Partnering With Wired

date: 2024-11-04, from: 404 Media Group

Wired is going to co-publish two of our articles a month. 

<br> 

<https://www.404media.co/404-media-is-partnering-with-wired/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

I don&#39;t like being labeled as liberal or leftist. If I were a conservative who believed in the rule of law I would be equally appalled at the NYT coverage of this election. Our constitutional house is on fire, and our supposed leading news org treats this as a normal election. That&#39;s the problem. 

<br> 

<https://www.semafor.com/article/11/03/2024/in-a-frank-internal-meeting-the-new-york-times-wrestled-with-its-political-role>

---

## The Present Future: AI's Impact Long Before Superintelligence

date: 2024-11-04, from: One Useful Thing

You can start to see the outlines of an AI future, for better and worse 

<br> 

<https://www.oneusefulthing.org/p/the-present-future-ais-impact-long>

---

## Inside the Massive Crime Industry That is Hacking Billion Dollar Companies

date: 2024-11-04, from: 404 Media Group

When you download that piece of pirated software, you might be also getting a piece of infostealer malware, and entering a highly complex hacking ecosystem that is fueling some of the biggest breaches on the planet. 

<br> 

<https://www.404media.co/inside-the-massive-crime-industry-that-is-hacking-billion-dollar-companies-copy-2/>

---

## Raspberry Pi Touch Display 2 on sale now at $60

date: 2024-11-04, from: Raspberry Pi News (.com)

<p>Raspberry Pi Touch Display 2: higher 720×1280-pixel resolution and slimmer form factor, at the same low price of $60</p>
<p>The post <a href="https://www.raspberrypi.com/news/raspberry-pi-touch-display-2-on-sale-now-at-60/">Raspberry Pi Touch Display 2 on sale now at $60</a> appeared first on <a href="https://www.raspberrypi.com">Raspberry Pi</a>.</p>
 

<br> 

<https://www.raspberrypi.com/news/raspberry-pi-touch-display-2-on-sale-now-at-60/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Quincy Jones, music titan who worked with everyone from Frank Sinatra to Michael Jackson, dies at 91. 

<br> 

<https://apnews.com/article/quincy-jones-dead-a9e31c7e39c448d8971519f47a22dd21?taid=67287c8df628cc000152e99f>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

This could be the last gasp of the world we used to call twitter. 

<br> 

<https://techcrunch.com/2024/11/03/x-updates-block-feature-letting-blocked-users-see-your-public-posts/>

---

## Everything Zen

date: 2024-11-04, from: Tedium site

You’re getting hit by pre-election chaos on every other part of the internet. Let’s take a step back and get a bit of a palate cleanser. Personally, I find a little Tedium goes a long way. 

<br> 

<https://feed.tedium.co/link/15204/16874098/pre-election-palate-cleanser>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Perplexity launches an elections tracker. 

<br> 

<https://techcrunch.com/2024/11/01/perplexity-launches-an-elections-tracker/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

I’m watching season 2 of The Diplomat on Netflix. what a waste of good actors. the writing is insipid and the story thin. one of those shows where they play this super dramatic music while nothing is happening plot wise. its even more stupid than election coverage at The NY Times. watching Steve Kornacki on msnbc is far more entertaining. 

<br> 

<https://www.metacritic.com/tv/the-diplomat-2023/season-2/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

What happened in Iowa. Their 6-week abortion ban. So maybe red states with hard abortion bans might swing like Iowa may have. 

<br> 

<https://m.youtube.com/watch?v=P-ysKh_Gyd0&list=PLJNKzTkCZE9vDHDa6ejyyEO1p4_e1RMt6&index=1&pp=iAQB>

---

## Talk: The Expanding Dark Forest and Generative AI

date: 2024-11-04, from: Maggie Appleton blog

 

<br> 

<https://maggieappleton.com/forest-talk>

---

## GSoC 2024: Out-Of-Process Execution For Clang-Repl

date: 2024-11-04, from: LLVM Blog

<p>Hello! I&rsquo;m Sahil Patidar, and this summer I had the exciting opportunity toparticipate in Google Summer of Code (GSoC) 2024. My project revolved aroundenhancing Clang-Repl by introducing Out-Of-Process Execution.</p><p>Mentors: Vassil Vassilev and Matheus Izvekov</p><h2 id="project-background">Project Background</h2><p>Clang-Repl, part of the LLVM project, is a powerful interactive C++ interpreter using Just-In-Time (JIT) compilation. However, it faced two major issues: high resource consumption and instability. Running both Clang-Repl and JIT in the same process consumed excessive system resources, and any crash in user code would shut down the entire session.</p><p>To address these problems, <strong>Out-Of-Process Execution</strong> was introduced. By executing user code in a separate process, resource usage is reduced and crashes no longer affect the main session. This solution significantly enhances both the efficiency and stability of Clang-Repl, making it more reliable and suitable for a broader range of use cases, especially on resource-constrained systems.</p><h2 id="what-we-accomplished">What We Accomplished</h2><p>As part of my GSoC project, I&rsquo;ve been focused on implementing out-of-process execution in Clang-Repl and enhancing the ORC JIT infrastructure to support this feature. Here is a breakdown of the key tasks and improvements I worked on:</p><h3 id="out-of-process-execution-support-for-clang-repl">Out-Of-Process Execution Support for Clang-Repl</h3><p><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/110418">#110418</a></p><p>One of the primary objectives of my project was to implement <strong>out-of-process (OOP) execution</strong> capabilities within Clang-Repl, enabling it to execute code in a separate, isolated process. This feature leverages <strong>ORC JIT&rsquo;s remote execution capabilities</strong> to enhance code execution flexibility by isolating runtime environments.</p><p>To enable OOP execution in Clang-Repl, I utilized the <code>llvm-jitlink-executor</code>, allowing Clang-Repl to offload code execution to a dedicated executor process. This setup introduces a layer of isolation between Clang-Repl’s main process and the code execution environment.</p><ul><li><p><strong>New Command-Line Flags</strong>:</p><p>To facilitate the out-of-process execution, I added two key command-line flags:</p><ul><li><p><strong><code>--oop-executor</code></strong>This flag starts a separate JIT executor process. The executor handles the actual code execution independently of the main Clang-Repl process.</p></li><li><p><strong><code>--oop-executor-connect</code></strong>This flag establishes a communication link between Clang-Repl and the out-of-process executor. It allows Clang-Repl to transmit code to the executor and retrieve the results from the execution.</p></li></ul></li></ul><p>With these flags in place, Clang-Repl can utilize <code>llvm-jitlink-executor</code> to execute code in an isolated environment. This approach significantly enhances separation between the compilation and execution stages, increasing flexibility and ensuring a more secure and manageable execution process.</p><h3 id="issues-encountered">Issues Encountered</h3><ul><li><p><strong>Block Dependence Calculation in ObjectLinkingLayer</strong><a href="https://github.com/llvm/llvm-project/commit/896dd322afcc1cf5dc4fa7375dedd55b59001eb4">Commit Link</a></p><p><strong>Code Example</strong></p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">int</span> f() {<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;}clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">int</span> f1() {<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">f</span>();}clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> f1();error: disconnectingclang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> JIT session error: FD<span style="color:#f92672">-</span>transport disconnectedJIT session error: disconnectingJIT session error: FD<span style="color:#f92672">-</span>transport disconnectedJIT session error: Failed to materialize symbols: { (main, { __Z2fv }) }disconnecting</code></pre></div><p>During my work on <code>clang-repl</code>, I encountered an issue where the JIT session would crash during incremental compilation. The root cause was a bug in <code>ObjectLinkingLayer::computeBlockNonLocalDeps</code>. The problem arose from the way the worklist was built: it was being populated within the same loop that records immediate dependencies and dependants, which caused some blocks to be missed from the worklist. This bug was fixed by <strong>Lang Hames</strong>.</p></li></ul><h3 id="orc-jit-enhancements">ORC JIT Enhancements</h3><p>As part of the OOP execution work, several improvements were made to ORC JIT, the underlying framework responsible for dynamic compilation and execution of code in Clang-Repl. These improvements target better handling of incremental execution, especially for Mach-O and ELF platforms, and ensuring that initializers are properly managed across different execution environments.</p><ol><li><p><strong>Incremental Initializer Execution for Mach-O and ELF</strong><strong>PRs</strong>: <a href="https://github.com/llvm/llvm-project/pull/97441">#97441</a>, <a href="https://github.com/llvm/llvm-project/pull/110406">#110406</a></p><p>In a typical JIT execution environment, the <code>dlopen</code> function is used to handle code mapping, reference counting, and initializer execution for dynamically loaded libraries. However, this approach is often too broad for interactive environments like Clang-Repl, where we only need to execute newly introduced initializers rather than reinitializing everything. To address this, I introduced the <strong><code>dlupdate</code></strong> function in the ORC runtime.</p><p>The <code>dlupdate</code> function is a targeted solution that focuses solely on running new initializers added during a REPL session. Unlike <code>dlopen</code>, which handles a variety of tasks and can lead to unnecessary overhead, <code>dlupdate</code> only triggers the execution of newly registered initializers, avoiding redundant operations. This improvement is particularly beneficial in interactive settings like Clang-Repl, where code is frequently updated in small increments.</p><p>By streamlining the execution of initializers, this change significantly improves the efficiency of Clang-Repl.</p></li><li><p><strong>Push-Request Model for ELF Initializers</strong><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/102846">#102846</a></p><p>A push-request model has been introduced to manage ELF initializers within the runtime state for each <code>JITDylib</code>, similar to how initializers are handled for Mach-O and COFF. Previously, ELF required a fresh request for initializers with each invocation of <code>dlopen</code>, but lacked mechanisms to register, deregister, or retain these initializers. This created issues during subsequent <code>dlopen</code> calls, as initializers were erased after the <code>rt_getInitializers</code> function was invoked, making further executions impossible.</p><p>To resolve these issues, the following functions were introduced:</p><ul><li><strong><code>__orc_rt_elfnix_register_init_sections</code></strong>: Registers ELF initializers for the <code>JITDylib</code>.</li><li><strong><code>__orc_rt_elfnix_register_jitdylib</code></strong>: Registers the <code>JITDylib</code> with the ELF runtime state.</li></ul><p>With the new push-request model, the management and tracking of initializers for each <code>JITDylib</code> state are now more efficient. By leveraging Mach-O’s <code>RecordSectionsTracker</code>, only newly registered initializers are executed, greatly improving efficiency and reliability when working with ELF targets in <code>clang-repl</code>.</p><p>This update is crucial for enabling out-of-process execution in <code>clang-repl</code> on ELF platforms, offering a more effective approach to managing incremental execution.</p></li></ol><h3 id="additional-improvements">Additional Improvements</h3><p>Beyond the main enhancements to Clang-Repl and ORC JIT, I also worked on several other improvements:</p><ol><li><p><strong>Auto-loading Dynamic Libraries in ORC JIT.</strong></p><p><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/109913">#109913</a> (On-going)</p><p>With this update, we’ve introduced a new feature to the ORC executor and controller: <strong>automatic loading of dynamic libraries in the ORC JIT</strong>. This enhancement enables efficient resolution of symbols from both loaded and unloaded libraries.</p><ul><li><p>How It Works:</p><ul><li><strong>Symbol Lookup:</strong>When a lookup request is made, the system first attempts to resolve the symbol from already loaded libraries.</li><li><strong>Unloaded Libraries Scan:</strong>If the symbol is not found in any loaded library, the system then scans the unloaded dynamic libraries to locate it.</li></ul></li><li><p>Key Addition: <strong>Global Bloom Filter</strong>A significant improvement in this update is the introduction of a <strong>Global Bloom Filter</strong>. When a symbol cannot be resolved in the loaded libraries, the symbol tables from the scanned libraries are incorporated into this filter. If the symbol is still not found, the bloom filter’s result is returned to the controller, allowing it to skip checking for symbols that do not exist in the global table during future lookups.</p></li></ul><p>Additionally, the system tracks symbols that were previously thought to be present but are actually absent in both loaded and unloaded libraries. With these enhancements, symbol resolution is significantly faster, as the bloom filter helps prevent unnecessary lookups, thereby improving efficiency for both loaded and unloaded dynamic libraries.</p></li><li><p><strong>Refactor of <code>dlupdate</code> Function</strong><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/110491">#110491</a></p><p>This update simplifies the <code>dlupdate</code> function by removing the <code>mode</code> argument, streamlining the function&rsquo;s interface. The change enhances the clarity and usability of <code>dlupdate</code> by reducing unnecessary parameters, improving the overall maintainability of the code.</p></li></ol><h2 id="benchmarks-in-process-vs-out-of-process-execution">Benchmarks: In-Process vs Out-of-Process Execution</h2><ul><li><a href="https://gist.github.com/SahilPatidar/4870bf9968b1b0cb3dabcff7281e6135">Prime Finder</a></li><li><a href="https://gist.github.com/SahilPatidar/2191963e59feb7dfa1314509340f95a1">Fibonacci Sequence</a></li><li><a href="https://gist.github.com/SahilPatidar/1df9e219d0f8348bd126f1e01658b3fa">Matrix Multiplication</a></li><li><a href="https://gist.github.com/SahilPatidar/c814634b2f863fc167b8d16b573f88ec">Sorting Algorithms</a></li></ul><h2 id="result">Result</h2><p>With these changes, <code>clang-repl</code> now supports out-of-process execution. We can run it using the following command:</p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">clang-repl --oop-executor<span style="color:#f92672">=</span>path/to/llvm-jitlink-executor --orc-runtime<span style="color:#f92672">=</span>path/to/liborc_rt.a</code></pre></div><h2 id="future-work">Future Work</h2><ul><li><p><strong>Crash Recovery and Session Continuation :</strong>Investigate and develop ways to enhance crash recovery so that if something goes wrong, the session can seamlessly resume without losing progress. This involves exploring options for an automatic process to restart the executor in the event of a crash.</p></li><li><p><strong>Finalize Auto Library Loading in ORC JIT :</strong>Wrap up the feature that automatically loads libraries in ORC JIT. This will streamline symbol resolution for both loaded and unloaded dynamic libraries by ensuring that any required dylibs containing symbol definitions are loaded as needed.</p></li></ul><h2 id="conclusion">Conclusion</h2><p>With this project, <strong>Clang-Repl</strong> now supports <strong>out-of-process execution</strong> for both <code>ELF</code> and <code>Mach-O</code>, making it much more efficient and stable, especially on devices with limited resources.</p><p>In the future, I plan to work on automating library loading and improving ORC-JIT to make Clang-Repl&rsquo;s out-of-process execution even better.</p><h2 id="acknowledgements">Acknowledgements</h2><p>I would like to thank <strong>Google Summer of Code (GSoC)</strong> and the LLVM community for providing me with this amazing opportunity. Special thanks to my mentors, <strong>Vassil Vassilev</strong> and <strong>Matheus Izvekov</strong>, for their continuous support and guidance. I am also deeply grateful to <strong>Lang Hames</strong> for sharing their expertise on ORC-JIT and helping improve <code>clang-repl</code>. This experience has been a major step in my development, and I look forward to continuing my contributions to open source.</p><h2 id="related-links">Related Links</h2><ul><li><a href="https://github.com/llvm/llvm-project">LLVM Repository</a></li><li><a href="https://discourse.llvm.org/t/clang-out-of-process-execution-for-clang-repl/68225">Project Description</a></li><li><a href="https://github.com/SahilPatidar">My GitHub Profile</a></li></ul> 

<br> 

<https://blog.llvm.org/posts/2024-10-23-out-of-process-execution-for-clang-repl/>

---

## DeskThing turns Spotify’s discontinued Car Thing into a PC controller and display

date: 2024-11-03, from: Liliputing

<p>DeskThing is a free and open source application that breathes new life into Spotify&#8217;s discontinued Car Thing accessory by transforming it from a Spotify controller for cars into a desktop device that controls a wide variety of applications running on your PC. It&#8217;s one of a number of tools that have come out of the [&#8230;]</p>
<p>The post <a href="https://liliputing.com/deskthing-turns-spotifys-discontinued-car-thing-into-a-pc-controller-and-display/">DeskThing turns Spotify&#8217;s discontinued Car Thing into a PC controller and display</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/deskthing-turns-spotifys-discontinued-car-thing-into-a-pc-controller-and-display/>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

For one survivor, the 1920 Election Day massacre in Florida was ‘the night the devil got loose.’ 

<br> 

<https://theconversation.com/for-one-survivor-the-1920-election-day-massacre-in-florida-was-the-night-the-devil-got-loose-241545>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

A Milwaukee woman whose father died of Covid presses neighbors to vote against Trump. 

<br> 

<https://wapo.st/4fa0s9o>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

CSS was imho a bad idea. 

<br> 

<https://thomasorus.com/new-css-that-can-actually-be-used-in-2024.html>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

TechCrunch: Bluesky raises $15M Series A, plans to launch subscriptions. No mention of the company&#39;s valuation unless I missed it. 

<br> 

<https://techcrunch.com/2024/10/24/bluesky-raises-15m-series-a-plans-to-launch-subscriptions/>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

Bluesky raised $15 million last month, but the press release doesn&#39;t say at what evaluation and if the founders sold stock in this round. 

<br> 

<https://bsky.social/about/blog/10-24-2024-series-a>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

You can vote any way you want and no one will ever know. 

<br> 

<https://m.youtube.com/watch?v=PDOLkGV4-Ls>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

Harris grabs unexpected last-minute lead over Trump in Iowa poll. 

<br> 

<https://www.theguardian.com/us-news/2024/nov/02/harris-unexpected-lead-over-trump-iowa-selzer-poll>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

2024 Pre-Election SNL Cold Open. 

<br> 

<https://m.youtube.com/watch?v=e6Funs6yyEw>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

Iowa Poll: Kamala Harris pulls ahead in state Donald Trump won twice. 

<br> 

<https://www.desmoinesregister.com/story/news/politics/iowa-poll/2024/11/02/iowa-poll-kamala-harris-leads-donald-trump-2024-presidential-race/75354033007/>

---

**@Dave Winer's linkblog** (date: 2024-11-03, from: Dave Winer's linkblog)

Kamala Harris Will Make Surprise Appearance on ‘Saturday Night Live’ Tonight. 

<br> 

<https://www.nytimes.com/2024/11/02/us/politics/kamala-harris-snl.html?smtyp=cur&smid=bsky-nytimes>

---

## Using PostgreSQL production query planner statistics to fill a mock database

date: 2024-11-03, from: Phiresky's blog

Did you know that PostgreSQL stores statistics about your data that can also be pretty useful not just for the query planner? Say you have a table users (id bigint, created timestamptz, category text): This information is a bit hard to interpret, so let’s just let AI give us a nice visualization of ... 

<br> 

<https://phiresky.github.io/blog/2024/mock-data-from-postgres-stats>

---

## CSS sprite sheet animations

date: 2024-11-03, from: Lean Rada's blog

<p><em>For RSS readers: This article contains interactive content available on the <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">original post on leanrada.com</a>.</em></p>

<p>Check out this demo first (Click it!):</p>
<label>
                <input type="checkbox">
                <div>
                  <div role="img" alt="interactive heart animation">
                  </div>
                </div>
                Heart
              </label>
<p>Yes, it’s the Twitter heart button. This heart animation was done using an old technique called <a target="_blank" href="https://en.wikipedia.org/wiki/Texture_atlas"><strong>sprite sheets</strong><span>🡵</span></a>.</p>

<p>On the web sprite sheets are used mainly to reduce the amount of HTTP requests by bundling multiple images together into a single image file. Displaying a sub-image involves clipping the sheet in the appropriate coordinates.</p>

<img srcset="/notes/css-sprite-sheets/minecraft.png 664w" sizes=" 664px" spec="100% [664) 664" loading="lazy" width="100%" data-placeholder="" src="https://leanrada.com/notes/css-sprite-sheets/minecraft.png?ref=rss" caption="Sprite sheet / texture atlas of Minecraft blocks">
<span>Sprite sheet / texture atlas of Minecraft blocks</span>
<p>The bandwidth benefit has been largely mitigated by HTTP/2 now, but sprite sheets have another purpose: <strong>animations!</strong> Displaying animations is one of the primary uses of sprite sheets, besides loading performance.</p>

<img srcset="/notes/css-sprite-sheets/animation-opaque.png 664w" sizes=" 664px" spec="100% [664) 664" loading="lazy" width="100%" data-placeholder="" src="https://leanrada.com/notes/css-sprite-sheets/animation-opaque.png?ref=rss" caption="Characters w/ animations, sprite sheet by <text-link href='https://opengameart.org/content/classic-hero-and-baddies-pack'>GrafxKid</text-link>">
<span>Characters w/ animations, sprite sheet by <a target="_blank" href="https://opengameart.org/content/classic-hero-and-baddies-pack">GrafxKid</a></span>
<p>It’s neat for small raster-based animations such as loading spinners, characters, icons, and micro-interactions.</p>

<pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: walking animation of a red monster character</pre>

<pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: walking animation of a blue monster character</pre>

<h2 id="how">How</h2>

<p>Assumming you already have a sprite sheet image and coordinates in hand, all you need is a way to clip that image for display. There are a few ways to clip an image in CSS.</p>
<table>
                <thead>
                  <tr>
                    <th>method</th>
                    <th>coordinates via</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>background-image</code></td>
                    <td><code>background-position</code></td>
                  </tr>
                  <tr>
                    <td><code>overflow: hidden</code> with nested <code>&lt;img&gt;</code></td>
                    <td><code>left</code>, <code>top</code> on the nested element</td>
                  </tr>
                  <tr>
                    <td><code>clip-path</code></td>
                    <td><code>clip-path</code>, <code>left</code>, <code>top</code></td>
                  </tr>
                </tbody>
              </table>
<p>The <code>left</code> and <code>top</code> rules can be substituted for <code>transform: translate(…)</code>.</p>

<p>The <code>background-image</code> way is the most convenient since you only need one element.</p>

<pre><code><span>.element</span> <span>{</span>
  <span>background-image</span><span>:</span> <span><span>url</span><span>(</span><span>'heart.png'</span><span>)</span></span><span>;</span>
  <span>/* size of one frame */</span>
  <span>width</span><span>:</span> 100px<span>;</span>
  <span>height</span><span>:</span> 100px<span>;</span>
  <span>/* size of the whole sheet */</span>
  <span>background-size</span><span>:</span> 2900px 100px<span>;</span>
  <span>/* coordinates of the desired frame (negated) */</span>
  <span>background-position</span><span>:</span> -500px 0px<span>;</span>
<span>}</span></code></pre>

<p>This is the sprite sheet for the heart animation from Twitter:</p>

<img srcset="/gen/_notes_css_sprite_sheets_twitter_800.generated.png 800w,/gen/_notes_css_sprite_sheets_twitter_1600.generated.png 1600w" sizes="not (min-width:800px) 800px, 1600px" spec="100% [800) 70% [1750) 1225" loading="lazy" width="400%" src="https://leanrada.com/notes/css-sprite-sheets/twitter.png?ref=rss" type="bleed" alt="Heart animation sprite sheet from Twitter">

<p>Using this image, the code above produces a still image of the frame at (500,0) — the sixth frame.</p>
<figure role="img" alt="6th frame of the heart animation"></figure>
<p>Removing the clipping method reveals that it’s just a part of the whole sheet (this view will be fun when it’s actually animating):</p>
<figure role="img" alt="6th frame of the heart animation">
                <div>
                </div>
              </figure>
<p>If the sprite sheet wasn’t made to be animated, that is, if it was just a collection of multiple unrelated sub-images like the Minecraft example earlier, then the CSS rules above are all we need to know. That’s it.</p>

<p>Since this sprite sheet was made to be animated, that is, it contains animation frames, more needs to be done.</p>

<p>To animate this, we animate the <code>background-position</code> over each frame in the sequence, flashing each frame in quick succession.</p>

<pre><code><span><span> </span><span>.element</span> <span>{</span>
<span> </span>  <span>background-image</span><span>:</span> <span><span>url</span><span>(</span><span>'heart.png'</span><span>)</span></span><span>;</span>
<span> </span>  <span>/* size of one frame */</span>
<span> </span>  <span>width</span><span>:</span> 100px<span>;</span>
<span> </span>  <span>height</span><span>:</span> 100px<span>;</span>
<span> </span>  <span>/* size of the whole sheet */</span>
<span> </span>  <span>background-size</span><span>:</span> 2900px 100px<span>;</span>
</span><span><span>-</span>  <span>/* coordinates of the desired frame (negated) */</span>
<span>-</span>  <span>background-position</span><span>:</span> -500px 0px<span>;</span>
</span><span><span>+</span>  <span>/* animate the coordinates */</span>
<span>+</span>  <span>animation</span><span>:</span> heartAnimation 2s <span>steps</span><span>(</span>29<span>,</span> jump-none<span>)</span> infinite<span>;</span>
<span>+</span><span>}</span>
<span>+</span>
<span>+</span><span><span>@keyframes</span> heartAnimation</span> <span>{</span>
<span>+</span>  <span>from</span> <span>{</span>
<span>+</span>    <span>/* first frame */</span>
<span>+</span>    <span>background-position</span><span>:</span> 0px 0px<span>;</span>
<span>+</span>  <span>}</span>
<span>+</span>  <span>to</span> <span>{</span>
<span>+</span>    <span>/* last frame */</span>
<span>+</span>    <span>background-position</span><span>:</span> -2800px 0px<span>;</span>
<span>+</span>  <span>}</span>
<span>+</span><span>}</span></span></code></pre>

<p><span><strong>Important: Note the <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function#stepsinteger_step-position"><code>steps()</code><span>🡵</span></a> timing function in the <code>animation</code> rule above!</strong> This is required for the transition to land exactly <em>on</em> the frames.</span></p>

<p>Voilà.</p>
<figure role="img" alt="the heart animation"></figure>
<p>And the view without clipping:</p>
<figure role="img" alt="the heart animation (unclipped)">
                <div>
                </div>
              </figure>
<img loading="lazy" width="100%" data-placeholder="" src="https://leanrada.com/notes/css-sprite-sheets/zoetrope.gif?ref=rss" caption="It’s like a <text-link href='https://deniseanimation.weebly.com/zoetropes.html'>zoetrope</text-link>">
<span>It’s like a <a target="_blank" href="https://deniseanimation.weebly.com/zoetropes.html">zoetrope</a></span>
<p>The exact parameters for the <code>steps()</code> function are a bit fiddly and it depends on whether you loop it or reverse it, but here’s what worked for the heart animation with 29 total frames.</p>

<pre><code><span>animation-timing-function</span><span>:</span> <span>steps</span><span>(</span>29<span>,</span> jump-none<span>)</span><span>;</span></code></pre>

<p>Using any other timing function results in a weird smooth in-betweening movement like this:</p>
<figure role="img" alt="janky heart animation"></figure>
<p>Remember, <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function#stepsinteger_step-position"><code>steps()</code><span>🡵</span></a> is crucial!</p>

<h2 id="why-not-apng">Why not APNG?</h2>

<p>For autoplaying stuff like loading spinners, you might want plain old GIFs or <a target="_blank" href="https://en.wikipedia.org/wiki/APNG">APNGs<span>🡵</span></a> instead.</p>

<p>But we don’t have tight control over the playback with these formats.</p>

<p>With sprite sheets, we can pause, reverse, play on hover, change the frame rate…</p>

<p>…make it <strong>scroll-driven</strong>,</p>
<figure>
              <div>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: spinning globe</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: spinning moon</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: spinning globe</pre>
              </div>
              <figcaption>Note: Scroll-driven animations are experimental. No Firefox support atm.</figcaption>
            </figure>
<p>… or make it <strong>interactive</strong>!</p>

<h2 id="interactivity">Interactivity</h2>

<p>The nice thing about this being in CSS is that we can make it interactive via selectors.</p>

<p>Continuing with the heart example, we can turn it into a stylised toggle control via HTML &amp; CSS:</p>
<label>
                <input type="checkbox">
                <div>
                  <div role="img" alt="interactive heart animation">
                  </div>
                </div>
                Heart
              </label>
<pre><code><span><span> </span><span>.element</span> <span>{</span>
<span> </span>  <span>background-image</span><span>:</span> <span><span>url</span><span>(</span><span>'heart.png'</span><span>)</span></span><span>;</span>
<span> </span>  <span>/* size of one frame */</span>
<span> </span>  <span>width</span><span>:</span> 100px<span>;</span>
<span> </span>  <span>height</span><span>:</span> 100px<span>;</span>
<span> </span>  <span>/* size of the whole sheet */</span>
<span> </span>  <span>background-size</span><span>:</span> 2900px 100px<span>;</span>
</span><span><span>+</span> <span>}</span>
<span>+</span>
<span>+</span><span>.input:checked ~ .element</span> <span>{</span>
</span><span><span> </span>  <span>/* animate the coordinates */</span>
</span><span><span>-</span>  <span>animation</span><span>:</span> heartAnimation 2s <span>steps</span><span>(</span>29<span>,</span> jump-none<span>)</span> infinite<span>;</span>
</span><span><span>+</span>  <span>animation</span><span>:</span> heartAnimation 2s <span>steps</span><span>(</span>29<span>,</span> jump-none<span>)</span> forwards<span>;</span>
</span><span><span> </span><span>}</span>
<span> </span>
<span> </span><span><span>@keyframes</span> heartAnimation</span> <span>{</span>
<span> </span>  <span>from</span> <span>{</span>
<span> </span>    <span>/* first frame */</span>
<span> </span>    <span>background-position</span><span>:</span> 0px 0px<span>;</span>
<span> </span>  <span>}</span>
<span> </span>  <span>to</span> <span>{</span>
<span> </span>    <span>/* last frame */</span>
<span> </span>    <span>background-position</span><span>:</span> -2800px 0px<span>;</span>
<span> </span>  <span>}</span>
<span> </span><span>}</span></span></code></pre>

<p>Or use the new <code>:has(:checked)</code>.</p>

<p><span>Additionally, CSS doesn’t block the main thread. In modern browsers, the big difference between CSS animations and JS-driven animations (i.e. <code>requestAnimationFrame</code> loops) is that the JS one runs on the main thread along with event handlers and DOM operations, so if you have some heavy JS (like React rerendering the DOM), JS animations would suffer along with it.</span></p>

<p>Of course, JS could still be used, if only to <em>trigger</em> these CSS sprite animations by adding or removing CSS classes.</p>

<h2 id="why-not-animated-svgs">Why not animated SVGs?</h2>

<p>If you have a vector format, then an <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL">animated SVG<span>🡵</span></a> is a decent option!</p>

<p>This format is kinda hard to author and integrate though — one would need both animation skills and coding skills to implement it. Some paid tools apparently exist to make it easier?</p>

<p>And Lottie? That 300-kilobyte library? Uh, sure, if you really need it.</p>

<h2 id="limitations-of-sprite-sheets">Limitations of sprite sheets</h2>

<ul>
              <li>The sheet could end up as a very large image file if you’re not very careful.</li>
              <li>It’s only effective for the narrow case of small frame-by-frame raster animations. Beyond that, better options may exist, such animated SVGs, the <code>&lt;video&gt;</code> tag, the <code>&lt;canvas&gt;</code> tag, etc.</li>
              <li>How do you support higher pixel densities? Media queries on <code>background-image</code>? <code>&lt;img&gt;</code> with <code>srcset</code> could work, but the coordinates are another matter. But it could be solved generally with CSS custom properties and <code>calc</code>.</li>
            </ul>

<h2 id="gallery">Gallery</h2>
<figure>
              <div>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: star animation from Twitter</pre>
              </div>
              <figcaption>‘Favorite’ icon animation</figcaption>
            </figure><figure>
              <div>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: walking animation of a snail</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: idle hiding animation of a snail</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: climb animation of a snail</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: attack animation of a snail</pre>
                <pre>Interactive content: <a href="https://leanrada.com/notes/css-sprite-sheets?ref=rss">Visit the website to play with interactive content!</a>
Alternative text: death animation of a snail</pre>
              </div>
              <figcaption>Snail enemy sprites from my game <a target="_blank" href="https://leanrada.com/wares/miniforts?ref=rss">MiniForts</a></figcaption>
            </figure>
<video muted="" autoplay="" loop="" playsinline="" caption="I actually had to implement these hover animations via sprite sheets at work." data-src="/notes/css-sprite-sheets/work.mp4">
                <source src="https://leanrada.com/notes/css-sprite-sheets/work.mp4?ref=rss">

                Video: | Source: /notes/css-sprite-sheets/work.mp4

              </video>
<span>I actually had to implement these hover animations via sprite sheets at work.</span>
<video muted="" autoplay="" loop="" playsinline="" media-class="u-media" caption="Behind the scenes" data-src="/notes/css-sprite-sheets/work2.mp4">
                <source src="https://leanrada.com/notes/css-sprite-sheets/work2.mp4?ref=rss">

                Video: | Source: /notes/css-sprite-sheets/work2.mp4

              </video>
<span>Behind the scenes</span><iframe height="414" scrolling="no" title="GSAP Draggable 360° sprite slider" src="https://codepen.io/jamiejefferson/embed/DgqxVe?default-tab=result&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
              See the Pen <a href="https://codepen.io/jamiejefferson/pen/DgqxVe">
                GSAP Draggable 360° sprite slider</a> by Jamie Jefferson (<a href="https://codepen.io/jamiejefferson">@jamiejefferson</a>)
              on <a href="https://codepen.io">CodePen</a>.
            </iframe><iframe height="333" scrolling="no" title="Steps Animation" src="https://codepen.io/simurai/embed/krWaKX?default-tab=result&amp;theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
              See the Pen <a href="https://codepen.io/simurai/pen/krWaKX">
                Steps Animation</a> by simurai (<a href="https://codepen.io/simurai">@simurai</a>)
              on <a href="https://codepen.io">CodePen</a>.
            </iframe> 

<br> 

<https://leanrada.com/notes/css-sprite-sheets?ref=rss>

