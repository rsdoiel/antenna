---
title: News gathered 2024-11-05
updated: 2024-11-05 15:53:45
---

# News gathered 2024-11-05

(date: 2024-11-05 15:53:45)

---

## Vote for the November 2024 + Post Topic

date: 2024-11-05, from: Computer ads from the Past

Your options are a programming language, a multimedia program, and a printer. 

<br> 

<https://computeradsfromthepast.substack.com/p/vote-for-the-november-2024-post-topic>

---

## Book: The Outward Mindset

date: 2024-11-05, from: Accidentally in Code

My coach recommended The Outward Mindset, from the Arbginger institute, same as Leadership and Self Deception (one of my all time most impactful books) and The Anatomy of Peace. It feels in many ways a continuation of those ideas, but more team/business oriented. The first part of the book focuses on the impact of mindset, [&#8230;] 

<br> 

<https://cate.blog/2024/11/05/book-the-outward-mindset/>

---

## Sequoia No Longer Supports QuickLook Generator Plug-ins

date: 2024-11-05, from: Michael Tsai

Howard Oakley: Prior to macOS 10.15 Catalina in 2019, the display of Thumbnails was supported by the QuickLook framework. From Catalina onwards, this is provided by a new framework named QuickLook Thumbnailing. The older framework is documented here, and had been deprecated for some years. Its replacement is documented here. To extend these, the older [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/05/sequoia-no-longer-supports-quicklook-generator-plug-ins/>

---

## How to Highlight Text Fragments When Linking

date: 2024-11-05, from: Michael Tsai

Paul Kafasis: In recent months, I&#8217;ve begun to notice that results from web searches often highlight specific text on the page to which they&#8217;re linking. The web page is also scrolled to the relevant content. It&#8217;s quite helpful! A quick investigation showed this is accomplished by appending a bit of code, #:~:text= to the URL [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/05/how-to-highlight-text-fragments-when-linking/>

---

## Exporting Kindle Highlights for Personal Documents

date: 2024-11-05, from: Michael Tsai

I&#8217;ve long used the Send to Kindle app to upload documents for reading on my Kindle Oasis. Unlike with books, I usually don&#8217;t care about saving notes and highlights for these, so I haven&#8217;t tried doing that in a while. However, I recently read a long document where I did make extensive highlights. Then I [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/05/exporting-kindle-highlights-for-personal-documents/>

---

## Paddle’s Single-Click Apple Pay

date: 2024-11-05, from: Michael Tsai

Paddle writes: Previously, to initiate Apple Pay, customers were redirected to a secondary page due to Apple constraints with top-level domains. But now, Apple has updated their framework, allowing us to provide a seamless, single-click Apple Pay experience, where the native payment dialogue is triggered instantly upon checkout&#8212;no redirects, no extra clicks![&#8230;]To get started with [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/05/paddles-single-click-apple-pay/>

---

## Pocuter Spectra is a hackable, repairable smartwatch with expandable storage and OLED display (crowdfunding)

date: 2024-11-05, from: Liliputing

<p>The Spectra smartwatch features a 1.8 inch, 368 x 448 pixel OLED display, an ESP32-S3 microcontroller, and a custom JavaScript-based operating system called SpectraOS that&#8217;s built on the open source Moddable SDK. What makes this watch stand out is that it&#8217;s designed to be a hackable and repairable device &#8211; you can open the watch [&#8230;]</p>
<p>The post <a href="https://liliputing.com/pocuter-spectra-is-a-hackable-repairable-smartwatch-with-expandable-storage-and-oled-display-crowdfunding/">Pocuter Spectra is a hackable, repairable smartwatch with expandable storage and OLED display (crowdfunding)</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/pocuter-spectra-is-a-hackable-repairable-smartwatch-with-expandable-storage-and-oled-display-crowdfunding/>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

Today&#39;s Trippi podcast with James Carville is wonderful. The rapport between these veterans, and wisdom, and how they play off each other. An amazing display of intelligence and friendship. 

<br> 

<https://podcasts.apple.com/us/podcast/election-day-special-edition-feat-james-carville/id1523896927?i=1000675748922>

---

## Waveshare ESP32-P4-Nano is a tiny RISC-V dev board with Ethernet, WiFi, and Bluetooth

date: 2024-11-05, from: Liliputing

<p>The Waveshare ESP32-P4-Nano is a tiny, inexpensive, low-power development board powered by a dual-core RISC-V processor. Available now from Waveshare or AliExpress for around $19 and up, the little board packs a lot of connectivity into a compact design. Waveshare&#8217;s board measures just 50 x 50mm (about 2&#8243; x 2&#8243;) but it has a 10/100 Ethernet [&#8230;]</p>
<p>The post <a href="https://liliputing.com/waveshare-esp32-p4-nano-is-a-tiny-risc-v-dev-board-with-ethernet-wifi-and-bluetooth/">Waveshare ESP32-P4-Nano is a tiny RISC-V dev board with Ethernet, WiFi, and Bluetooth</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/waveshare-esp32-p4-nano-is-a-tiny-risc-v-dev-board-with-ethernet-wifi-and-bluetooth/>

---

## Daily Deals (11-05-2024)

date: 2024-11-05, from: Liliputing

<p>Not that long ago it was hard to find a tablet priced under $100 that was actually worth using. These days there are plenty of cheap tablets that are good enough for basic tasks like reading web pages and streaming movies &#8211; especially when you can find a mid-range model that&#8217;s on sale for a [&#8230;]</p>
<p>The post <a href="https://liliputing.com/daily-deals-11-05-2024/">Daily Deals (11-05-2024)</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/daily-deals-11-05-2024/>

---

## PowerToys Advanced Paste

date: 2024-11-05, from: Windows Developer Blog

<p>The post <a href="https://learn.microsoft.com/en-us/windows/powertoys/advanced-paste">PowerToys Advanced Paste</a> appeared first on <a href="https://blogs.windows.com/windowsdeveloper">Windows Developer Blog</a>.</p>
 

<br> 

<https://learn.microsoft.com/en-us/windows/powertoys/advanced-paste>

---

## The Vatican’s Anime Mascot Is Now an AI Porn Sensation

date: 2024-11-05, from: 404 Media Group

AI and Rule 34 have inevitably turned the Catholic Church’s cute Luce mascot into very graphic pornography. 

<br> 

<https://www.404media.co/luce-porn-vatican/>

---

## Alleged Snowflake Hacker Appears in Court, Says Prison in Lockdown

date: 2024-11-05, from: 404 Media Group

Connor Moucka said he didn't have a lawyer yet. He was arrested at the request of the U.S. 

<br> 

<https://www.404media.co/alleged-snowflake-hacker-appears-in-court-says-prison-in-lockdown/>

---

## Inside the Plan to Use AI to Purge Voter Rolls

date: 2024-11-05, from: 404 Media Group

Audio obtained from board of elections meetings in Georgia show how a tool called EagleAI was pitched to election officials. 

<br> 

<https://www.404media.co/inside-the-plan-to-use-ai-to-purge-voter-rolls/>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

Web Design Inspiration via Zeldman. 

<br> 

<https://zeldman.com/2024/11/05/web-design-inspiration/>

---

## Vote for Kamala Harris. Then, Get Out the Vote for Kamala Harris.

date: 2024-11-05, updated: 2024-11-05, from: One Foot Tsunami

 

<br> 

<https://onefoottsunami.com/2024/11/05/vote-for-kamala-harris/>

---

## Radar Trends to Watch: November 2024

date: 2024-11-05, from: O'Reilly Radar

October had many language model releases. The mid-size models, and even the small models, are catching up to frontier models like GPT-4.5o in performance. But the release that blew us all away wasn’t a language model: It was Claude’s computer use API. Computer use allows you to teach Claude how to use a computer: how [&#8230;] 

<br> 

<https://www.oreilly.com/radar/radar-trends-to-watch-november-2024/>

---

## THE CHILD WHO NEVER GREW TO BE A MAN, but did it make it to be President

date: 2024-11-05, from: Howard Jacobson blog

Illustrations to Pussy by Chris Riddell 

<br> 

<https://jacobsonh.substack.com/p/the-child-who-never-grew-to-be-a>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

Comedian and Future Senator Al Franken With a Hilarious Performance at the 1996 WHCP. 

<br> 

<https://m.youtube.com/watch?v=lb86IVB5cuY&pp=QAFIAQ==>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

John Lennon Snorting Pepsi in the 1964 Classic &quot;A Hard Day&#39;s Night.” 

<br> 

<https://m.youtube.com/watch?v=i91ys01B-es>

---

## Suspected Snowflake Hacker Arrested in Canada

date: 2024-11-05, from: 404 Media Group

For more than a week Judische, the hacker linked to the AT&T, Ticketmaster and other breaches, has not been responding to messages. That's because he's been arrested. 

<br> 

<https://www.404media.co/suspected-snowflake-hacker-arrested-in-canada/>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

Anti-Psychopath Political Action Committee. 

<br> 

<https://www.psychopac.org/>

---

**@Dave Winer's linkblog** (date: 2024-11-05, from: Dave Winer's linkblog)

As much as I don’t want Facebook (aka Meta) to dominate the post-twitter market, they have the best product. That’s not saying a lot. There’s big<span style="letter-spacing: 0.01rem; -webkit-text-size-adjust: 100%;"> room for improvement that’s been there for many years.</span> 

<br> 

<https://feedland.org/?item=17413109>

---

## GHC 9.12.1-alpha2 is now available

date: 2024-11-05, from: Glasgow Haskell Compiler

<h1>GHC 9.12.1-alpha2 is now available</h1>
<h4 class="text-muted">Zubin Duggal - 2024-11-05</h4>

<p>The GHC developers are very pleased to announce the availability
of the second alpha release of GHC 9.12.1. Binary distributions, source
distributions, and documentation are available at <a href="https://downloads.haskell.org/ghc/9.12.1-alpha2">downloads.haskell.org</a>.</p>
<p>We hope to have this release available via ghcup shortly.</p>
<p>GHC 9.12 will bring a number of new features and improvements, including:</p>
<ul>
<li><p>The new language extension <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0522-or-patterns.rst">OrPatterns</a> allowing you to combine multiple
pattern clauses into one.</p></li>
<li><p>The <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0569-multiline-strings.rst">MultilineStrings</a> language extension to allow you to more easily write
strings spanning multiple lines in your source code.</p></li>
<li><p>Improvements to the OverloadedRecordDot extension, allowing the built-in
<code>HasField</code> class to be used for records with fields of non lifted representations.</p></li>
<li><p>The <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0409-exportable-named-default.rst">NamedDefaults</a> language extension has been introduced allowing you to
define defaults for typeclasses other than <code>Num</code>.</p></li>
<li><p>More deterministic object code output, controlled by the <code>-fobject-determinism</code>
flag, which improves determinism of builds a lot (though does not fully do so)
at the cost of some compiler performance (1-2%). See <a href="https://gitlab.haskell.org/ghc/ghc/issues/12935">#12935</a> for the details</p></li>
<li><p>GHC now accepts type syntax in expressions as part of <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0281-visible-forall.rst">GHC Proposal <span>#281</span></a>.</p></li>
<li><p>The WASM backend now has support for TemplateHaskell.</p></li>
<li><p>… and many more</p></li>
</ul>
<p>A full accounting of changes can be found in the <a href="https://downloads.haskell.org/ghc/9.12.1-alpha2/docs/users_guide/9.12.1-notes.html">release notes</a>.
As always, GHC’s release status, including planned future releases, can
be found on the GHC Wiki <a href="https://gitlab.haskell.org/ghc/ghc/-/wikis/GHC-status">status</a>.</p>
<p>We would like to thank GitHub, IOG, the Zw3rk stake pool,
Well-Typed, Tweag I/O, Serokell, Equinix, SimSpace, the Haskell
Foundation, and other anonymous contributors whose on-going financial
and in-kind support has facilitated GHC maintenance and release
management over the years. Finally, this release would not have been
possible without the hundreds of open-source contributors whose work
comprise this release.</p>
<p>As always, do give this release a try and open a <a href="https://gitlab.haskell.org/ghc/ghc/-/issues/new">ticket</a> if you see
anything amiss.</p>
 

<br> 

<http://haskell.org/ghc/blog/20241105-ghc-9.12.1-alpha2-released.html>

---

## Notes on binary soup

date: 2024-11-05, from: Marginallia log

I recently put together a small library called Slop, for intermediate on-disk data representation for the search engine, replacing a few ad-hoc formats I had in place before.
This post isn&rsquo;t so much an attempt to convince anyone else to use this library, as it makes trade-offs catering to a fairly niche use case, but to explore some of its design ideas, as it all came together very nicely, in the hopes that other libraries can draw ideas from it. 

<br> 

<https://www.marginalia.nu/log/a_112_slop_ideas/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Hundreds of code libraries posted to NPM try to install malware on dev machines. 

<br> 

<https://arstechnica.com/security/2024/11/javascript-developers-targeted-by-hundreds-of-malicious-code-libraries/>

---

## The Curious About Everything Newsletter #44

date: 2024-11-04, from: Curious about everything blog

The many interesting things I read in October 2024 

<br> 

<https://jodiettenberg.substack.com/p/forty-four>

---

## 'The Most Mysterious Song on the Internet' Has Finally Been Identified

date: 2024-11-04, from: 404 Media Group

The mystery, which dates back to the 1980s, has finally been solved. The song is Fex—Subways of Your Mind. 

<br> 

<https://www.404media.co/the-most-mysterious-song-on-the-internet-has-finally-been-identified/>

---

## How to Use Cursor for iOS Development

date: 2024-11-04, from: Michael Tsai

Thomas Ricouard: Recently, there&#8217;s been much talk and fuss about AI, and whether or not it can improve your development workflow. I wanted to touch base about how AI and its implementation in Cursor have been significantly improving my speed and efficiency. In short, Cursor is a fork of VSCode with many code editing AI-assisted [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/04/how-to-use-cursor-for-ios-development/>

---

## Why Alexa Hasn’t Yet Become the Real Computer of the Future

date: 2024-11-04, from: Michael Tsai

Jennifer Pattison Tuohy: Fast-forward to today, and there are over 40 million Echo smart speakers in US households, with Alexa processing billions of commands a week globally. But despite this proliferation of products and popularity, the &#8220;superhuman assistant who is there when you need it, disappears when you don&#8217;t, and is always working in the [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/04/why-alexa-hasnt-yet-become-the-real-computer-of-the-future/>

---

## Playing Purchased Music on HomePod

date: 2024-11-04, from: Michael Tsai

Ruffin Bailey: I often buy from what at least used to be called the iTunes Music Store. The biggest advantage for me for doing so over, say, buying from Amazon or directly from the artist&#8217;s site (which I often do, or buy from Bandcamp if available), is that Apple Music will stream those songs for [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/04/playing-purchased-music-on-homepod/>

---

## Reddit Is Finally Profitable

date: 2024-11-04, from: Michael Tsai

Emma Roth (Slashdot): Reddit just turned a profit for the first time. As part of its third quarter earnings results released on Tuesday, the company reported a profit of $29.9 million, along with $348.4 million in revenue &#8212; a 68 percent increase year over year.[&#8230;]Reddit&#8217;s advertising revenue grew to $315.1 million, while &#8220;other&#8221; revenue reached [&#8230;] 

<br> 

<https://mjtsai.com/blog/2024/11/04/reddit-is-finally-profitable/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Perplexity CEO offers to replace striking NYT staff with AI. 

<br> 

<https://techcrunch.com/2024/11/04/perplexity-ceo-offers-to-replace-striking-nyt-staff-with-ai/>

---

## Perplexity AI Offers to Help New York Times With Tech Union Strike

date: 2024-11-04, from: 404 Media Group

New York Times tech workers are on strike for fairer pay and just cause job protections. In steps the CEO of Perplexity, an AI company that has repeatedly ripped-off the work of human journalists. 

<br> 

<https://www.404media.co/perplexity-ai-offers-to-help-new-york-times-with-tech-union-strike/>

---

## You can run Doom on Nintendo’s Alarmo clock

date: 2024-11-04, from: Liliputing

<p>Last month Nintendo launched a $100 interactive alarm clock called Alarmo. It&#8217;s a weird, but charming little device that lets you wake to music from classic Nintendo games and motion sensors to to track your movements to play game sounds, stop the alarm once you get out of bed, or even report your sleep quality [&#8230;]</p>
<p>The post <a href="https://liliputing.com/now-you-can-run-doom-or-other-apps-on-nintendos-alarmo-clock/">You can run Doom on Nintendo&#8217;s Alarmo clock</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/now-you-can-run-doom-or-other-apps-on-nintendos-alarmo-clock/>

---

## Raspberry Pi Touch Display 2 launches for $60

date: 2024-11-04, from: Liliputing

<p>Nine years after launching an official touchscreen display accessory for Raspberry Pi computer, the Raspberry Pi team is back with a new model. The new Raspberry Pi Touch Display 2 has the same $60 price tag as the original, but it features a higher resolution display and a slimmer design. The Raspberry Pi Touch Display 2 [&#8230;]</p>
<p>The post <a href="https://liliputing.com/raspberry-pi-touch-display-2-launches-for-60/">Raspberry Pi Touch Display 2 launches for $60</a> appeared first on <a href="https://liliputing.com">Liliputing</a>.</p>
 

<br> 

<https://liliputing.com/raspberry-pi-touch-display-2-launches-for-60/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Why GM is ditching Apple CarPlay, with software boss Baris Cetinok. 

<br> 

<https://www.theverge.com/24285581/gm-software-baris-cetinok-apple-carplay-android-auto-google-cars-evs-decoder-podcast>

---

## A Monster Assembled Entirely From Human Flaws

date: 2024-11-04, updated: 2024-11-04, from: One Foot Tsunami

 

<br> 

<https://onefoottsunami.com/2024/11/04/a-monster-assembled-entirely-from-human-flaws/>

---

## Netflix Bullish on Gen AI for Games After Laying Off Human Game Developers

date: 2024-11-04, from: 404 Media Group

Netflix exec says Generative AI is a ‘once in a generation’ inflection point for video game development. 

<br> 

<https://www.404media.co/netflix-games-ai-exec/>

---

## 404 Media Is Partnering With Wired

date: 2024-11-04, from: 404 Media Group

Wired is going to co-publish two of our articles a month. 

<br> 

<https://www.404media.co/404-media-is-partnering-with-wired/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

I don&#39;t like being labeled as liberal or leftist. If I were a conservative who believed in the rule of law I would be equally appalled at the NYT coverage of this election. Our constitutional house is on fire, and our supposed leading news org treats this as a normal election. That&#39;s the problem. 

<br> 

<https://www.semafor.com/article/11/03/2024/in-a-frank-internal-meeting-the-new-york-times-wrestled-with-its-political-role>

---

## Announcing Growthbook on JSR

date: 2024-11-04, updated: 2024-11-04, from: Deno blog

Growthbook's JavaScript SDK, which enables easy AB testing and personalization, is now available on JSR. 

<br> 

<https://deno.com/blog/growthbook-on-jsr>

---

## The Present Future: AI's Impact Long Before Superintelligence

date: 2024-11-04, from: One Useful Thing

You can start to see the outlines of an AI future, for better and worse 

<br> 

<https://www.oneusefulthing.org/p/the-present-future-ais-impact-long>

---

## Inside the Massive Crime Industry That is Hacking Billion Dollar Companies

date: 2024-11-04, from: 404 Media Group

When you download that piece of pirated software, you might be also getting a piece of infostealer malware, and entering a highly complex hacking ecosystem that is fueling some of the biggest breaches on the planet. 

<br> 

<https://www.404media.co/inside-the-massive-crime-industry-that-is-hacking-billion-dollar-companies-copy-2/>

---

## Raspberry Pi Touch Display 2 on sale now at $60

date: 2024-11-04, from: Raspberry Pi News (.com)

<p>Raspberry Pi Touch Display 2: higher 720×1280-pixel resolution and slimmer form factor, at the same low price of $60</p>
<p>The post <a href="https://www.raspberrypi.com/news/raspberry-pi-touch-display-2-on-sale-now-at-60/">Raspberry Pi Touch Display 2 on sale now at $60</a> appeared first on <a href="https://www.raspberrypi.com">Raspberry Pi</a>.</p>
 

<br> 

<https://www.raspberrypi.com/news/raspberry-pi-touch-display-2-on-sale-now-at-60/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Quincy Jones, music titan who worked with everyone from Frank Sinatra to Michael Jackson, dies at 91. 

<br> 

<https://apnews.com/article/quincy-jones-dead-a9e31c7e39c448d8971519f47a22dd21?taid=67287c8df628cc000152e99f>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

This could be the last gasp of the world we used to call twitter. 

<br> 

<https://techcrunch.com/2024/11/03/x-updates-block-feature-letting-blocked-users-see-your-public-posts/>

---

## Everything Zen

date: 2024-11-04, from: Tedium site

You’re getting hit by pre-election chaos on every other part of the internet. Let’s take a step back and get a bit of a palate cleanser. Personally, I find a little Tedium goes a long way. 

<br> 

<https://feed.tedium.co/link/15204/16874098/pre-election-palate-cleanser>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

Perplexity launches an elections tracker. 

<br> 

<https://techcrunch.com/2024/11/01/perplexity-launches-an-elections-tracker/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

I’m watching season 2 of The Diplomat on Netflix. what a waste of good actors. the writing is insipid and the story thin. one of those shows where they play this super dramatic music while nothing is happening plot wise. its even more stupid than election coverage at The NY Times. watching Steve Kornacki on msnbc is far more entertaining. 

<br> 

<https://www.metacritic.com/tv/the-diplomat-2023/season-2/>

---

**@Dave Winer's linkblog** (date: 2024-11-04, from: Dave Winer's linkblog)

What happened in Iowa. Their 6-week abortion ban. So maybe red states with hard abortion bans might swing like Iowa may have. 

<br> 

<https://m.youtube.com/watch?v=P-ysKh_Gyd0&list=PLJNKzTkCZE9vDHDa6ejyyEO1p4_e1RMt6&index=1&pp=iAQB>

---

## Talk: The Expanding Dark Forest and Generative AI

date: 2024-11-04, from: Maggie Appleton blog

 

<br> 

<https://maggieappleton.com/forest-talk>

---

## GSoC 2024: Out-Of-Process Execution For Clang-Repl

date: 2024-11-04, from: LLVM Blog

<p>Hello! I&rsquo;m Sahil Patidar, and this summer I had the exciting opportunity toparticipate in Google Summer of Code (GSoC) 2024. My project revolved aroundenhancing Clang-Repl by introducing Out-Of-Process Execution.</p><p>Mentors: Vassil Vassilev and Matheus Izvekov</p><h2 id="project-background">Project Background</h2><p>Clang-Repl, part of the LLVM project, is a powerful interactive C++ interpreter using Just-In-Time (JIT) compilation. However, it faced two major issues: high resource consumption and instability. Running both Clang-Repl and JIT in the same process consumed excessive system resources, and any crash in user code would shut down the entire session.</p><p>To address these problems, <strong>Out-Of-Process Execution</strong> was introduced. By executing user code in a separate process, resource usage is reduced and crashes no longer affect the main session. This solution significantly enhances both the efficiency and stability of Clang-Repl, making it more reliable and suitable for a broader range of use cases, especially on resource-constrained systems.</p><h2 id="what-we-accomplished">What We Accomplished</h2><p>As part of my GSoC project, I&rsquo;ve been focused on implementing out-of-process execution in Clang-Repl and enhancing the ORC JIT infrastructure to support this feature. Here is a breakdown of the key tasks and improvements I worked on:</p><h3 id="out-of-process-execution-support-for-clang-repl">Out-Of-Process Execution Support for Clang-Repl</h3><p><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/110418">#110418</a></p><p>One of the primary objectives of my project was to implement <strong>out-of-process (OOP) execution</strong> capabilities within Clang-Repl, enabling it to execute code in a separate, isolated process. This feature leverages <strong>ORC JIT&rsquo;s remote execution capabilities</strong> to enhance code execution flexibility by isolating runtime environments.</p><p>To enable OOP execution in Clang-Repl, I utilized the <code>llvm-jitlink-executor</code>, allowing Clang-Repl to offload code execution to a dedicated executor process. This setup introduces a layer of isolation between Clang-Repl’s main process and the code execution environment.</p><ul><li><p><strong>New Command-Line Flags</strong>:</p><p>To facilitate the out-of-process execution, I added two key command-line flags:</p><ul><li><p><strong><code>--oop-executor</code></strong>This flag starts a separate JIT executor process. The executor handles the actual code execution independently of the main Clang-Repl process.</p></li><li><p><strong><code>--oop-executor-connect</code></strong>This flag establishes a communication link between Clang-Repl and the out-of-process executor. It allows Clang-Repl to transmit code to the executor and retrieve the results from the execution.</p></li></ul></li></ul><p>With these flags in place, Clang-Repl can utilize <code>llvm-jitlink-executor</code> to execute code in an isolated environment. This approach significantly enhances separation between the compilation and execution stages, increasing flexibility and ensuring a more secure and manageable execution process.</p><h3 id="issues-encountered">Issues Encountered</h3><ul><li><p><strong>Block Dependence Calculation in ObjectLinkingLayer</strong><a href="https://github.com/llvm/llvm-project/commit/896dd322afcc1cf5dc4fa7375dedd55b59001eb4">Commit Link</a></p><p><strong>Code Example</strong></p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">int</span> f() {<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;}clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">int</span> f1() {<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">f</span>();}clang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> f1();error: disconnectingclang<span style="color:#f92672">-</span>repl<span style="color:#f92672">&gt;</span> JIT session error: FD<span style="color:#f92672">-</span>transport disconnectedJIT session error: disconnectingJIT session error: FD<span style="color:#f92672">-</span>transport disconnectedJIT session error: Failed to materialize symbols: { (main, { __Z2fv }) }disconnecting</code></pre></div><p>During my work on <code>clang-repl</code>, I encountered an issue where the JIT session would crash during incremental compilation. The root cause was a bug in <code>ObjectLinkingLayer::computeBlockNonLocalDeps</code>. The problem arose from the way the worklist was built: it was being populated within the same loop that records immediate dependencies and dependants, which caused some blocks to be missed from the worklist. This bug was fixed by <strong>Lang Hames</strong>.</p></li></ul><h3 id="orc-jit-enhancements">ORC JIT Enhancements</h3><p>As part of the OOP execution work, several improvements were made to ORC JIT, the underlying framework responsible for dynamic compilation and execution of code in Clang-Repl. These improvements target better handling of incremental execution, especially for Mach-O and ELF platforms, and ensuring that initializers are properly managed across different execution environments.</p><ol><li><p><strong>Incremental Initializer Execution for Mach-O and ELF</strong><strong>PRs</strong>: <a href="https://github.com/llvm/llvm-project/pull/97441">#97441</a>, <a href="https://github.com/llvm/llvm-project/pull/110406">#110406</a></p><p>In a typical JIT execution environment, the <code>dlopen</code> function is used to handle code mapping, reference counting, and initializer execution for dynamically loaded libraries. However, this approach is often too broad for interactive environments like Clang-Repl, where we only need to execute newly introduced initializers rather than reinitializing everything. To address this, I introduced the <strong><code>dlupdate</code></strong> function in the ORC runtime.</p><p>The <code>dlupdate</code> function is a targeted solution that focuses solely on running new initializers added during a REPL session. Unlike <code>dlopen</code>, which handles a variety of tasks and can lead to unnecessary overhead, <code>dlupdate</code> only triggers the execution of newly registered initializers, avoiding redundant operations. This improvement is particularly beneficial in interactive settings like Clang-Repl, where code is frequently updated in small increments.</p><p>By streamlining the execution of initializers, this change significantly improves the efficiency of Clang-Repl.</p></li><li><p><strong>Push-Request Model for ELF Initializers</strong><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/102846">#102846</a></p><p>A push-request model has been introduced to manage ELF initializers within the runtime state for each <code>JITDylib</code>, similar to how initializers are handled for Mach-O and COFF. Previously, ELF required a fresh request for initializers with each invocation of <code>dlopen</code>, but lacked mechanisms to register, deregister, or retain these initializers. This created issues during subsequent <code>dlopen</code> calls, as initializers were erased after the <code>rt_getInitializers</code> function was invoked, making further executions impossible.</p><p>To resolve these issues, the following functions were introduced:</p><ul><li><strong><code>__orc_rt_elfnix_register_init_sections</code></strong>: Registers ELF initializers for the <code>JITDylib</code>.</li><li><strong><code>__orc_rt_elfnix_register_jitdylib</code></strong>: Registers the <code>JITDylib</code> with the ELF runtime state.</li></ul><p>With the new push-request model, the management and tracking of initializers for each <code>JITDylib</code> state are now more efficient. By leveraging Mach-O’s <code>RecordSectionsTracker</code>, only newly registered initializers are executed, greatly improving efficiency and reliability when working with ELF targets in <code>clang-repl</code>.</p><p>This update is crucial for enabling out-of-process execution in <code>clang-repl</code> on ELF platforms, offering a more effective approach to managing incremental execution.</p></li></ol><h3 id="additional-improvements">Additional Improvements</h3><p>Beyond the main enhancements to Clang-Repl and ORC JIT, I also worked on several other improvements:</p><ol><li><p><strong>Auto-loading Dynamic Libraries in ORC JIT.</strong></p><p><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/109913">#109913</a> (On-going)</p><p>With this update, we’ve introduced a new feature to the ORC executor and controller: <strong>automatic loading of dynamic libraries in the ORC JIT</strong>. This enhancement enables efficient resolution of symbols from both loaded and unloaded libraries.</p><ul><li><p>How It Works:</p><ul><li><strong>Symbol Lookup:</strong>When a lookup request is made, the system first attempts to resolve the symbol from already loaded libraries.</li><li><strong>Unloaded Libraries Scan:</strong>If the symbol is not found in any loaded library, the system then scans the unloaded dynamic libraries to locate it.</li></ul></li><li><p>Key Addition: <strong>Global Bloom Filter</strong>A significant improvement in this update is the introduction of a <strong>Global Bloom Filter</strong>. When a symbol cannot be resolved in the loaded libraries, the symbol tables from the scanned libraries are incorporated into this filter. If the symbol is still not found, the bloom filter’s result is returned to the controller, allowing it to skip checking for symbols that do not exist in the global table during future lookups.</p></li></ul><p>Additionally, the system tracks symbols that were previously thought to be present but are actually absent in both loaded and unloaded libraries. With these enhancements, symbol resolution is significantly faster, as the bloom filter helps prevent unnecessary lookups, thereby improving efficiency for both loaded and unloaded dynamic libraries.</p></li><li><p><strong>Refactor of <code>dlupdate</code> Function</strong><strong>PR</strong>: <a href="https://github.com/llvm/llvm-project/pull/110491">#110491</a></p><p>This update simplifies the <code>dlupdate</code> function by removing the <code>mode</code> argument, streamlining the function&rsquo;s interface. The change enhances the clarity and usability of <code>dlupdate</code> by reducing unnecessary parameters, improving the overall maintainability of the code.</p></li></ol><h2 id="benchmarks-in-process-vs-out-of-process-execution">Benchmarks: In-Process vs Out-of-Process Execution</h2><ul><li><a href="https://gist.github.com/SahilPatidar/4870bf9968b1b0cb3dabcff7281e6135">Prime Finder</a></li><li><a href="https://gist.github.com/SahilPatidar/2191963e59feb7dfa1314509340f95a1">Fibonacci Sequence</a></li><li><a href="https://gist.github.com/SahilPatidar/1df9e219d0f8348bd126f1e01658b3fa">Matrix Multiplication</a></li><li><a href="https://gist.github.com/SahilPatidar/c814634b2f863fc167b8d16b573f88ec">Sorting Algorithms</a></li></ul><h2 id="result">Result</h2><p>With these changes, <code>clang-repl</code> now supports out-of-process execution. We can run it using the following command:</p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">clang-repl --oop-executor<span style="color:#f92672">=</span>path/to/llvm-jitlink-executor --orc-runtime<span style="color:#f92672">=</span>path/to/liborc_rt.a</code></pre></div><h2 id="future-work">Future Work</h2><ul><li><p><strong>Crash Recovery and Session Continuation :</strong>Investigate and develop ways to enhance crash recovery so that if something goes wrong, the session can seamlessly resume without losing progress. This involves exploring options for an automatic process to restart the executor in the event of a crash.</p></li><li><p><strong>Finalize Auto Library Loading in ORC JIT :</strong>Wrap up the feature that automatically loads libraries in ORC JIT. This will streamline symbol resolution for both loaded and unloaded dynamic libraries by ensuring that any required dylibs containing symbol definitions are loaded as needed.</p></li></ul><h2 id="conclusion">Conclusion</h2><p>With this project, <strong>Clang-Repl</strong> now supports <strong>out-of-process execution</strong> for both <code>ELF</code> and <code>Mach-O</code>, making it much more efficient and stable, especially on devices with limited resources.</p><p>In the future, I plan to work on automating library loading and improving ORC-JIT to make Clang-Repl&rsquo;s out-of-process execution even better.</p><h2 id="acknowledgements">Acknowledgements</h2><p>I would like to thank <strong>Google Summer of Code (GSoC)</strong> and the LLVM community for providing me with this amazing opportunity. Special thanks to my mentors, <strong>Vassil Vassilev</strong> and <strong>Matheus Izvekov</strong>, for their continuous support and guidance. I am also deeply grateful to <strong>Lang Hames</strong> for sharing their expertise on ORC-JIT and helping improve <code>clang-repl</code>. This experience has been a major step in my development, and I look forward to continuing my contributions to open source.</p><h2 id="related-links">Related Links</h2><ul><li><a href="https://github.com/llvm/llvm-project">LLVM Repository</a></li><li><a href="https://discourse.llvm.org/t/clang-out-of-process-execution-for-clang-repl/68225">Project Description</a></li><li><a href="https://github.com/SahilPatidar">My GitHub Profile</a></li></ul> 

<br> 

<https://blog.llvm.org/posts/2024-10-23-out-of-process-execution-for-clang-repl/>

