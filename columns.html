<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" >
  <title>columns 2024.30</title>
<!--  <link rel="stylesheet" type="text/css"  href="webfonts/fonts.css" media="screen" > -->
  <link rel="stylesheet" type="text/css"  href="css/site.css" media="screen" >
</head>
<body>
<header>
	<img class="logo" 
		src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Antenna_1_-_The_Noun_Project.svg"
		alt="line art showing an antenna"
		height="80" width="60" >
	<h1>The Antenna</h1> 
	<h2>finding signal in the noise</h2>
</header>
<nav>
<ul>
	<li><a href="./">The Antenna</a></li>
	<li><a href="snapshots/" title="Somedays daily">Snapshots</a></li>
	<li><a href="archives/">Archives</a></li>
	<li><a href="search.html">Search</a></li>
	<li><a href="about.html">About</a></li>
</ul>
</nav>
<section>
<div class="description-for-items">
Items collected from feeds in <a href="columns.txt">columns.txt</a>
</div>
<h1 id="columns-2024.30">columns 2024.30</h1>
<p>(date: 2024-07-24 16:18:06)</p>
<hr />
<h2 id="simple-advice-for-personal-finance">Simple Advice for Personal
Finance</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/simple-advice-for-personal-finance-1"
class="uri">https://kottke.org/24/07/simple-advice-for-personal-finance-1</a></p>
<hr />
<h2 id="reintroducing-kamala-harris">(Re)introducing Kamala Harris</h2>
<p>date: 2024-07-24, from: Dan Rather’s Steady</p>
<p>The vice president is largely unknown to most of us</p>
<p><a href="https://steady.substack.com/p/reintroducing-kamala-harris"
class="uri">https://steady.substack.com/p/reintroducing-kamala-harris</a></p>
<hr />
<h2
id="in-supposedly-affluent-western-nations-the-dire-state-or-absence-of-public">“In
supposedly affluent Western nations, the dire state or absence of
public…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045004-in-supposedly-affluent-we"
class="uri">https://kottke.org/24/07/0045004-in-supposedly-affluent-we</a></p>
<hr />
<h2
id="a-study-of-the-worlds-most-and-least-walkable-cities-and-those">A
study of the world’s most, and least, walkable cities (and those…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045006-a-study-of-the-worlds"
class="uri">https://kottke.org/24/07/0045006-a-study-of-the-worlds</a></p>
<hr />
<h2
id="some-good-climate-news-the-pace-of-decarbonization-in-the-us-is">Some
good climate news: the pace of decarbonization in the US is…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045012-some-good-climate-news-th"
class="uri">https://kottke.org/24/07/0045012-some-good-climate-news-th</a></p>
<hr />
<h2
id="all-about-u.s.-a-look-at-the-lives-of-50-real-kids-from-across-the-united-states">All
About U.S. — A Look at the Lives of 50 Real Kids from Across the United
States</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/all-about-us-a-look-at-the-lives-of-50-real-kids-from-across-the-united-states"
class="uri">https://kottke.org/24/07/all-about-us-a-look-at-the-lives-of-50-real-kids-from-across-the-united-states</a></p>
<hr />
<h2
id="if-youre-feeling-nostalgic-heres-a-version-of-ms-paint-that-works">If
you’re feeling nostalgic, here’s a version of MS Paint that works…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044986-if-youre-feeling-nostalgi"
class="uri">https://kottke.org/24/07/0044986-if-youre-feeling-nostalgi</a></p>
<hr />
<h2
id="the-gods-of-logic-benjamín-labatut-when-we-cease-to-understand-the">The
Gods of Logic: Benjamín Labatut (When We Cease to Understand the…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045003-the-gods-of-logic-benjami"
class="uri">https://kottke.org/24/07/0045003-the-gods-of-logic-benjami</a></p>
<hr />
<h2 id="books-to-read-to-understand-where-project-2025-came-from">Books
to Read to Understand Where Project 2025 Came From</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/books-to-read-to-understand-where-project-2025-came-from"
class="uri">https://kottke.org/24/07/books-to-read-to-understand-where-project-2025-came-from</a></p>
<hr />
<h2 id="july-23-2024">July 23, 2024</h2>
<p>date: 2024-07-24, from: Heather Cox Richardson blog</p>
<p><a
href="https://heathercoxrichardson.substack.com/p/july-23-2024-51f"
class="uri">https://heathercoxrichardson.substack.com/p/july-23-2024-51f</a></p>
<hr />
<p><strong><span class="citation" data-cites="Liam">@Liam</span> on
Linux</strong> (date: 2024-07-24, from: Liam on Linux)</p>
 <a href="https://en.wikipedia.org/wiki/ARRA_(computer)">ARRA</a> was
the first ever Dutch computer.<br /> <br />There’s an account of its
creation entitled <a href="https://ir.cwi.nl/pub/13534">9.2 Computers
ontwerpen, toen</a> (<em>"Computer Designs, then"</em>) by the
late <a href="https://en.wikipedia.org/wiki/Carel_S._Scholten">Carel S
Scholten</a>, but sadly for Anglophone readers it’s in
Dutch.<br /><br />This is a translation into English, done using ChatGPT
4o by Gavin Scott. I found it readable and fun, although I have no way
to judge how accurate it is.<br /><br />
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
C.S. Scholten<br /><br /><o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
In the summer of 1947, I was on vacation in Almelo. Earlier that year,
on the same day as my best friend and inseparable study mate, Brain Jan
Loopstra, I had successfully passed the qualifying exams in mathematics
and physics. The mandatory brief introduction to the three major
laboratories—the Physics Laboratory, the V.d. Waals Laboratory, and the
Zeeman Laboratory—was behind us, and we were about to start our doctoral
studies in experimental physics. For two years, we would be practically
working in one of the aforementioned laboratories.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
One day, I received a telegram in Almelo with approximately the
following content: "Would you like to assist in building an automatic
calculating machine?" For assurance, another sentence was added:
"Mr. Loopstra has already agreed." The sender was "The Mathematical
Center," according to further details, located in Amsterdam. I briefly
considered whether my friend had already confirmed my cooperation, but
in that case, the telegram seemed unnecessary, so I dismissed that
assumption. Both scenarios were equally valid: breaking up our
long-standing cooperation (dating back to the beginning of high school)
was simply unthinkable. Furthermore, the telegram contained two
attractive points: "automatic calculating machine" and "Mathematical
Center," both new concepts to me. I couldn’t deduce more than the name
suggested. Since the cost of a telegram exceeded my budget, I posted a
postcard with my answer and resumed my vacation activities. Those of you
who have been involved in recruiting staff will, I assume, be filled
with admiration for this unique example of recruitment tactics: no fuss
about salary or working hours, not to mention irrelevant details like
pension, vacation, and sick leave. For your reassurance, it should be
mentioned that I was indeed offered a salary and benefits, which, in our
eyes, were quite generous.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
I wasn’t too concerned about how the new job could be combined with the
mandatory two-year laboratory work. I believed that a solution had to be
found for that. And a solution was found: the laboratory work could be
replaced by our work at the Mathematical Center.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Upon returning to Amsterdam, I found out the following: the Mathematical
Center was founded in 1946, with a goal that could roughly be inferred
from its name. One of the departments was the ‘Calculation Department,’
where diligent young ladies, using hand calculators—colloquially known
as ‘coffee grinders’—numerically solved, for example, differential
equations (in a later stage, so-called ‘bookkeeping machines’ were added
to the machinery). The problems dealt with usually came from external
clients. The head of the Calculation Department was Dr. ir. A. van
Wijngaarden. Stories about automatic calculating machines had also
reached the management of the Mathematical Center, and it was clear from
the outset that such a tool—if viable—could be of great importance,
especially for the Calculation Department. However, it was not possible
to buy this equipment; those who wanted to discuss it had to build it
themselves. Consequently, it was decided to establish a separate group
under the Calculation Department, with the task of constructing an
automatic calculating machine. Given the probable nature of this group’s
activities, it was somewhat an oddity within the Mathematical Center,
doomed to disappear, if not after completing the first machine, then
certainly once this kind of tool became a normal trade
object.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
We were not the only group in the Netherlands involved in constructing
calculating machines. As we later discovered, Dr. W.L. v.d. Poel had
already started constructing a machine in 1946.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Our direct boss was Van Wijngaarden, and our newly formed two-man group
was temporarily housed in a room of the Physics Laboratory on Plantage
Muidergracht, where Prof. Clay was in charge. Our first significant act
was the removal of a high-voltage installation in the room, much to the
dismay of Clay, who was fond of the thing but arrived too late to
prevent the disaster. Then we thought it might be useful to equip the
room with some 220V sockets, so we went to Waterlooplein and returned
with a second-hand hammer, pliers, screwdriver, some wire, and a few
wooden (it was 1947!) sockets. I remember wondering whether we could
reasonably submit the exorbitant bill corresponding to these purchases.
Nonetheless, we did.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
After providing our room with voltage, we felt an unpleasant sensation
that something was expected from us, though we had no idea how to start.
We decided to consult the sparse literature. This investigation yielded
two notable articles: one about the ENIAC, a digital (decimal) computer
designed for ballistic problems, and one about a differential analyzer,
a device for solving differential equations, where the values of
variables were represented by continuously variable physical quantities,
in this case, the rotation of shafts. The first article was abominably
written and incomprehensible, and as far as we understood it, it was
daunting, mentioning, for instance, 18,000 vacuum tubes, a number we
were sure our employer could never afford. The second article (by V.
Bush), on the other hand, was excellently written and gave us the idea
that such a thing indeed seemed buildable.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Therefore, it had to be a differential analyzer, and a mechanical one at
that. As we now know, we were betting on the wrong horse, but first, we
didn’t know that, and second, it didn’t really matter. Initially, we
were not up to either task simply because we lacked any electronic
training. We were supposed to master electricity and atomic physics, but
how a vacuum tube looked inside was known only to radio amateurs among
us, and we certainly were not. Our own (preliminary) practicum
contained, to my knowledge, no experiment in which a vacuum tube was the
object of study, and the physics practicum for medical students (the
so-called ‘medical practicum’), where we had supervised for a year as
student assistants, contained exactly one such experiment. It involved a
rectifier, dated by colleagues with some training in archaeology to
about the end of the First World War. The accompanying manual prescribed
turning on the ‘plate voltage’ only tens of seconds after the filament
voltage, and the students had to answer why this instruction was given.
The answers were sometimes very amusing. One such answer I won’t
withhold from you: ‘That is to give the current a chance to go around
once.’<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Our first own experiment with a vacuum tube would not have been out of
place in a slapstick movie. It involved a triode, in whose anode circuit
we included a megohm resistor for safety. Safely ensconced behind a
tipped-over table, we turned on the ‘experiment.’ Unlike in a slapstick
movie, nothing significant happened in our case.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
With the help of some textbooks, and not to forget the ‘tube manuals’ of
some manufacturers of these useful objects, we somewhat brushed up on
our electronic knowledge and managed to get a couple of components,
which were supposed to play a role in the differential analyzer, to a
state where their function could at least be guessed. They were a moment
amplifier and a curve follower. How we should perfect these devices so
that they would work reliably and could be produced in some numbers
remained a mystery to us. The solution to this mystery was never found.
Certainly not by me, as around this time (January 1948), I was summoned
to military service, which couldn’t do without me. During the two years
and eight months of my absence (I returned to civilian life in September
1950), a drastic change took place, which I could follow thanks to
frequent contacts with Loopstra.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
First, the Mathematical Center, including our group, moved to the
current building at 2nd Boerhaavestraat 49. The building looked somewhat
different back then. The entire building had consisted of two
symmetrically built schools. During the war, the building was
requisitioned by the Germans and used as a garage. In this context, the
outer wall of one of the gymnasiums was demolished. Now, one half was
again in use as a school, and the other half, as well as the attic above
both halves, was assigned to the Mathematical Center. The Germans had
installed a munitions lift in the building. The lift was gone, but the
associated lift shaft was not. Fortunately, few among us had suicidal
tendencies. The frosted glass in the toilet doors (an old school!) had
long since disappeared; for the sake of decorum, curtains were hung in
front of them.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Van Wijngaarden could operate for a long time over a hole in the floor
next to his desk, corresponding with a hole in the ceiling of the room
below (unoccupied). Despite his impressive cigar consumption at that
time, I didn’t notice that this gigantic ashtray ever filled
up.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The number of employees in our group had meanwhile expanded somewhat;
all in all, perhaps around five.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The most significant change in the situation concerned our further
plans. The idea of a differential analyzer was abandoned as it had
become clear that the future belonged to digital computers. Upon my
return, a substantial part of such a computer, the ‘ARRA’ (Automatische
Relais Rekenmachine Amsterdam), had already been realized. The main
components were relays (for various logical functions) and tubes (for
the flip-flops that composed the registers). The relays were Siemens
high-speed relays (switching times in the order of a few milliseconds),
personally retrieved by Loopstra and Van Wijngaarden from an English war
surplus. They contained a single changeover contact (break-before-make),
with make and break contacts rigidly set, although adjustable. Logically
appealing were the two separate coils (with an equal number of
windings): both the inclusive and exclusive OR functions were within
reach. The relays were mounted on octal bases by us and later enclosed
in a plastic bag to prevent contact contamination.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
They were a constant source of concern: switching times were unreliable
(especially when the exclusive OR was applied) and contact degradation
occurred nonetheless. Cleaning the contacts (‘polishing the pins’) and
resetting the switching times became a regular pastime, often involving
the girls from the Calculation Department. The setting was done on a
relay tester, and during this setting, the contacts were under
considerable voltage. Although an instrument with a wooden handle was
used for setting, the curses occasionally uttered suggested it was not
entirely effective.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
For the flip-flops, double triodes were used, followed by a power tube
to drive a sufficient number of relays, and a pilot lamp for visual
indication of the flip-flop state. Since the A had three registers, each
30 bits wide, there must have been about 90 power tubes, and we noted
with dismay that 90 power tubes oscillated excellently. After some time,
we knew exactly which pilot lamp socket needed a 2-meter wire to
eliminate the oscillation.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
At a later stage, a drum (initially, the instructions were read from a
plugboard via step switches) functioned as memory; for input and output,
a tape reader (paper, as magnetic tape was yet to be invented) and a
teleprinter were available. A wooden kitchen table served as the control
desk.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Relays and tubes might have been the main logical building blocks, but
they were certainly not the only ones. Without too much exaggeration, it
can be said that the ARRA was a collection of what the electronic
industry had to offer, a circumstance greatly contributed to by our
frequent trips to Eindhoven, from where we often returned with some
‘sample items.’ On the train back, we first reminisced about the
excellent lunch we had enjoyed and then inventoried to determine if we
brought back enough to cover the travel expenses. This examination
usually turned out positive.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
It should be noted that the ARRA was mainly not clocked. Each primitive
operation was followed by an ‘operation complete’ signal, which in turn
started the next operation. It is somewhat amusing that nowadays such a
system is sometimes proposed again (but hopefully more reliable than
what we produced) to prevent glitch problems, a concept we were not
familiar with at the time.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
Needless to say, the ARRA was so unreliable that little productive work
could be done with it. However, it was officially put into use. By
mid-1952, this was the case. His Excellency F.J. Th. Rutten, then
Minister of Education, appeared at our place and officially inaugurated
the ARRA with some ceremony. For this purpose, we carefully chose a
demonstration program with minimal risk of failure, namely producing
random numbers à la Fibonacci. We had rehearsed the demonstration so
often that we knew large parts of the output sequence by heart, and we
breathed a sigh of relief when we found that the machine produced the
correct output. In hindsight, I am surprised that this demonstration did
not earn us a reprimand from higher-ups. Imagine: you are the Minister
of Education, thoroughly briefed at the Department about the wonders of
the upcoming computing machines; you attend the official inauguration,
and you are greeted by a group explaining that, to demonstrate these
wonders, the machine will soon produce a series of random numbers. When
the moment arrives, they tell you with beaming faces that the machine
works excellently. I would have assumed that, if not with the truth, at
least with me, they were having a bit of fun. His Excellency remained
friendly, a remarkable display of self-control.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The emotions stirred by this festivity were apparently too much for the
ARRA. After the opening, as far as I recall, no reasonable amount of
useful work was ever produced. After some time, towards the end of 1952,
we decided to give up the ARRA as a hopeless case and do something else.
There was another reason for this decision. The year 1952 should be
considered an excellent harvest year for the Mathematical Center staff:
in March and November of that year, Edsger Dijkstra and Gerrit Blaauw
respectively appeared on the scene. Of these two, the latter is of
particular importance for today’s story and our future narrative. Gerrit
had worked on computers at Harvard, under the supervision of Howard
Aiken. He had also written a dissertation there and was willing to lend
his knowledge and insight to the Mathematical Center. We were not very
compliant boys at that time. Let me put it this way: we were aware that
we did not have a monopoly on wisdom, but we found it highly unlikely
that anyone else would know better. Therefore, the ‘newcomer’ was viewed
with some suspicion. Gerrit’s achievement was all the greater when he
convinced us in a lecture of the validity of what he proposed. And that
was quite something: a clocked machine, uniform building blocks
consisting of various types of AND/OR gates and corresponding
amplifiers, pluggable (and thus interchangeable) units, a neat design
method based on the use of two alternating, separate series of clock
pulses, and proper documentation.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
We were sold on the plan and got to work. A small difficulty had to be
overcome: what we intended to do was obviously nothing more or less than
building a new machine, and this fact encountered some political
difficulties. The solution to this problem was simple: formally, it
would be a ‘revision’ of the ARRA. The new machine was thus also called
ARRA II (we shall henceforth speak of A II), but the double bottom was
perfectly clear to any visitor: the frames of the two machines were
distinctly separated, with no connecting wire between them.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
For the AND/OR gates, we decided to use selenium diodes. These usually
arrived in the form of selenium rectifiers, a sort of firecrackers of
varying sizes, which we dismantled to extract the individual rectifier
plates, about half the diameter of a modern-day dime. The assembly—the
selenium plates couldn’t tolerate high temperatures, so soldering was
out of the question—was as follows: holes were drilled in a thick piece
of pertinax. One end of the hole was sealed with a metal plug; into the
resulting pot hole went a spring and a selenium plate, and finally, the
other end of the hole was also sealed with a metal plug. For connecting
the plugs, we thought the use of silver paint was appropriate, and soon
we were busy painting our first own circuits. Some time later, we had
plenty of reasons to curse this decision. The reliability of these
connections was poor, to put it mildly, and around this time, the
‘high-frequency hammer’ must have been invented: we took a small hammer
with a rubber head and rattled it along the handles of the units, like a
child running its hand along the railings of a fence. It proved an
effective means to turn intermittent interruptions into permanent ones.
I won’t hazard a guess as to how many interruptions we introduced in
this way. At a later stage, the selenium diodes were replaced by
germanium diodes, which were simply soldered.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The AND/OR gates were followed by a triode amplifier and a cathode
follower. ARRA II also got a drum and a tape reader. For output, an
electric typewriter was installed, with 16 keys operable by placing
magnets underneath them. The decoding tree for these magnets provided us
with the means to build an echo-check, and Dijkstra fabricated a routine
where, simultaneously with printing a number, the same number (if all
went well) was reconstructed. I assume we thus had one of the first
fully controlled print routines. Characteristic of ARRA II’s speed was
the time for an addition: 20 ms (the time of a drum
rotation).<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
ARRA II came into operation in December 1953, this time without
ministerial assistance, but it performed significantly more useful work
than its predecessor, despite the technical difficulties outlined
above.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The design phase of ARRA II marks for me the point where computer design
began to become a profession. This was greatly aided by the introduction
of uniform building blocks, describable in a multidimensional binary
state space, making the use of tools like Boolean algebra meaningful. We
figured out how to provide ARRA II with signed multiplicative addition
for integers (i.e., an operation of the form (A,S) := (M) * (±S’) + (A),
for all sign combinations of (A), (S), and (M) before and of the
result), despite the fact that ARRA II had only a counter as wide as a
register. As far as I can recall, this was the first time I devoted a
document to proving that the proposed solution was correct. Undoubtedly,
the proof was in a form I would not be satisfied with today, but still…
It worked as intended, and you can imagine my amusement when, years
later, I learned from a French book on computers that this problem was
considered unsolvable.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
In May 1954, work began on a (slightly modified) copy of ARRA II, the
FERTA (Fokker’s First Calculating Machine Type A), intended for Fokker.
The FERTA was handed over to Fokker in April 1955. This entire affair
was mainly handled by Blaauw and Dijkstra. Shortly thereafter, Blaauw
left the service of the Mathematical Center.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
In June 1956, the ARMAC (Automatic Calculating Machine Mathematical
Center), successor to ARRA II, was put into operation, several dozen
times faster than its predecessor. Design and construction took about 1½
years. Worth mentioning is that the ARMAC first used cores, albeit on a
modest scale (in total 64 words of 34 bits each, I believe). For
generating the horizontal and vertical selection currents for these
cores, we used large cores. To drive these large cores, however, they
had to be equipped with a coil with a reasonable number of windings.
Extensive embroidery work didn’t seem appealing to us, so the following
solution was devised: a (fairly deep) rim was turned from transparent
plastic. Thus, we now had two rings: the rim and the core. The rim was
sawed at one place, and the flexibility of the material made it possible
to interlock the two rings. Then, the coil was applied to the rim by
rotating it from the outside using a rubber wheel. The result was a
neatly wound coil. The whole thing was then encased in Araldite. The
unintended surprising effect was that, since the refractive indices of
the plastic and Araldite apparently differed little, the plastic rim
became completely invisible. The observer saw a core in the Araldite
with a beautifully regularly wound coil around it. We left many a
visitor in the dark for quite some time about how we produced these
things!<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
The time of amateurism was coming to an end. Computers began to appear
on the market, and the fact that our group, which had now grown to
several dozen employees, did not really belong in the Mathematical
Center started to become painfully clear to us. Gradual dissolution of
the group was, of course, an option, but that meant destroying a good
piece of know-how. A solution was found when the Nillmij, which had been
automating its administration for some time using Bull punch card
equipment, declared its willingness to take over our group as the core
of a new Dutch computer industry. Thus it happened. The new company,
N.V. Elektrologica, was formally established in 1956, and gradually our
group’s employees were transferred to Elektrologica, a process that was
completed with my own transfer on January 1, 1959. As the first
commercial machine, we designed a fully transistorized computer, the XI,
whose prototype performed its first calculations at the end of 1957. The
speed was about ten times that of the ARMAC.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
With this, I consider the period I had to cover as concluded. When I
confront my memories with the title of this lecture, it must be said
that ‘designing computers’ as such hardly existed: the activities that
could be labeled as such were absorbed in the total of concerns that
demanded our attention. Those who engaged in constructing calculating
machines at that time usually worked in very small teams and performed
all the necessary tasks. We decided on the construction of racks, doors,
and closures, the placement of fans (the ARMAC consumed 10 kW!), we
mounted power distribution cabinets and associated wiring, we knew the
available fuses and cross-sections of electrical cables by heart, we
soldered, we peered at oscillographs, we climbed into the machine armed
with a vacuum cleaner to clean it, and, indeed, sometimes we were also
involved in design.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
We should not idealize. As you may have gathered from the above, we were
occasionally brought to the brink of despair by technical problems.
Inadequate components plagued us, as did a lack of knowledge and
insight. This lack existed not only in our group but globally the field
was not yet mastered.<o:p></o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
<o:p> </o:p>
</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; font-size: 12pt; font-family: Calibri, sans-serif;">
However, it was also a fascinating time, marked by a constant sense of
‘never before seen,’ although that may not always have been literally
true. It was a time when organizing overtime, sometimes lasting all
night, posed no problem. It was a time when we knew a large portion of
the participants in international computer conferences at least by
sight!<o:p></o:p>
</p>
<p><br type="_moz" /><br /><br /><img src="https://www.dreamwidth.org/tools/commentcount?user=liam_on_linux&ditemid=91041" width="30" height="12" alt="comment count unavailable" style="vertical-align: middle;"/>
comments</p>
<p><a href="https://liam-on-linux.dreamwidth.org/91041.html"
class="uri">https://liam-on-linux.dreamwidth.org/91041.html</a></p>
<hr />
<h2
id="in-the-latest-data-release-the-uns-global-population-peak-projection-was">In
the latest data release, the UN’s global population peak projection
was…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045005-in-the-latest-data-releas"
class="uri">https://kottke.org/24/07/0045005-in-the-latest-data-releas</a></p>
<hr />
<h2
id="martin-pollack-writes-about-his-gestapo-father-and-his-family-who-remained">Martin
Pollack writes about his Gestapo father and his family, who
remained…</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045010-martin-pollack-writes-abo"
class="uri">https://kottke.org/24/07/0045010-martin-pollack-writes-abo</a></p>
<hr />
<h2 id="robot-dog-internet-jammer">Robot Dog Internet Jammer</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Bruce Schneier blog</p>
<p>
Supposedly the DHS
<a href="https://www.404media.co/dhs-has-a-ddos-robot-to-disable-internet-of-things-booby-traps-inside-homes/">has
these</a>:
</p>
<blockquote>
<p>
The robot, called “NEO,” is a modified version of the “Quadruped
Unmanned Ground Vehicle” (Q-UGV) sold to law enforcement by a company
called Ghost Robotics. Benjamine Huffman, the director of DHS’s Federal
Law Enforcement Training Centers (FLETC), told police at the 2024 Border
Security Expo in Texas that DHS is increasingly worried about criminals
setting “booby traps” with internet of things and smart home devices,
and that NEO allows DHS to remotely disable the home networks of a home
or building law enforcement is raiding. The Border Security Expo is open
only to law enforcement and defense contractors. A transcript of
Huffman’s speech was obtained by the Electronic Frontier Foundation’s
Dave Maass using a Freedom of Information Act request and was shared
with 404 Media…
</p>
</blockquote>
<p><a
href="https://www.schneier.com/blog/archives/2024/07/robot-dog-internet-jammer.html"
class="uri">https://www.schneier.com/blog/archives/2024/07/robot-dog-internet-jammer.html</a></p>
<hr />
<h2 id="getting-started-with-meshtastic">Getting Started with
Meshtastic</h2>
<p>date: 2024-07-24, from: Jeff Geerling blog</p>
<p><span
class="field field--name-title field--type-string field--label-hidden">Getting
Started with Meshtastic</span></p>
<pre><code>        &lt;div class=&quot;clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item&quot;&gt;&lt;p&gt;After seeing the Meshtastic booth at Open Sauce, my Dad and I thought it would be fun to learn more about the low power radio tech by getting our own radios and experimenting.&lt;/p&gt;</code></pre>
<p>
<img width="700" height="auto" class="insert-image" src="https://www.jeffgeerling.com/sites/default/files/images/meshtastic-nodes.jpg" alt="Meshtastic nodes">
</p>
<p>
Then, we were contacted by Simon from <a href="https://muzi.works">Muzi
Works</a>, and he offered to send a few units of R1 and H1, his
company’s pre-built Meshtastic nodes.
</p>
<p>
What’s a node, and what is Meshtastic? Excellent question.
</p>
<h2>
What is Meshtastic?
</h2>
<p>
Simply put—and copied shamelessly from the
<a href="https://meshtastic.org">official website</a>:
</p>
<blockquote>
<p>
An open source, off-grid, decentralized, mesh network built to run on
affordable, low-power devices
</p>
</blockquote>
<p>
Meshtastic nodes are often tiny gumstick-size PCBs with a LoRa radio
module, a couple buttons, a tiny OLED display, and a USB port.
</p>
</div>
<pre><code>  &lt;span class=&quot;field field--name-uid field--type-entity-reference field--label-hidden&quot;&gt;&lt;span&gt;Jeff Geerling&lt;/span&gt;&lt;/span&gt;</code></pre>
<p><span
class="field field--name-created field--type-created field--label-hidden"><time datetime="2024-07-24T10:00:45-05:00" title="Wednesday, July 24, 2024 - 10:00" class="datetime">July
24, 2024</time> </span></p>
<p><a
href="https://www.jeffgeerling.com/blog/2024/getting-started-meshtastic"
class="uri">https://www.jeffgeerling.com/blog/2024/getting-started-meshtastic</a></p>
<hr />
<h2 id="changelog-changes">changelog changes</h2>
<p>date: 2024-07-24, from: Daniel Stenberg Blog</p>
<p>On the curl website we of course list exactly what changes that go
into each and every single release we do. In recent years I have even
gone back and made sure we provide this information for every single
release ever done. At the moment that means 258 releases, listing over
10,000 bugfixes and almost …
<a href="https://daniel.haxx.se/blog/2024/07/24/changelog-changes/" class="more-link">Continue
reading <span class="screen-reader-text">changelog changes</span> <span
class="meta-nav">→</span></a></p>
<p><a href="https://daniel.haxx.se/blog/2024/07/24/changelog-changes/"
class="uri">https://daniel.haxx.se/blog/2024/07/24/changelog-changes/</a></p>
<hr />
<h2 id="gridmapper-local">2024-07-24 Gridmapper Local</h2>
<p>date: 2024-07-24, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-24-gridmapper-local">
2024-07-24 Gridmapper Local
</h1>
<p>
I was wondering whether I should get back to Gridmapper, but not using
Javascript and the web but using Common Lisp. I spent some time on this
<a href="2022-07-20_Gridmapper_CL">two years ago</a>. Of course by now I
have forgotten everything – like how to build it!
</p>
<p>
This is the Makefile that seems to work, given that I have both
<code>gridmapper.asd</code> and <code>gridmapper.lisp</code> in the
current directory.
</p>
<pre><code>SHELL = /bin/sh
LISP ?= sbcl --non-interactive
PWD   = $(shell pwd)

build:
    $(LISP) --eval '(asdf:load-asd &quot;$(PWD)/gridmapper.asd&quot;)' \
    --eval '(asdf:load-system :gridmapper)' \
    --eval '(asdf:make :gridmapper)' \
    --eval '(quit)'
</code></pre>
<p>
Surely there is a better way to do this?
</p>
<p>
If I replace <code>(asdf:load-system :gridmapper)</code> with
<code>(ql:quickload :gridmapper)</code> it no longer gives me a warning
about <code>cl-colors.asd</code> which I don’t know anything about. I
guess the warning is still preferable because it means no dependency on
Quicklisp? I have no idea. The
<a href="https://src.alexschroeder.ch/gridmapper-local.git">README</a>
comes with a long explanation of what to install and how to do it, in
order to build Gridmapper – including the use of Quicklisp.
</p>
<p>
The hairiest part is that I need access to a function that isn’t
exported from the Cairo package. So now I’m accessing the private
function (using two colons):
</p>
<pre><code>;; Sorry for the ugly hack… cairo_format_stride_for_width is not exported.
(cairo::cairo_format_stride_for_width :CAIRO_FORMAT_ARGB32 (surface-width surface)))))
</code></pre>
<p>
Two years ago, there was a different solution to this that apparently no
longer works. 🤷
</p>
<p>
<a class="tag" href="/search/?q=%23Common_Lisp">#Common Lisp</a>
</p>
<p><a href="https://alexschroeder.ch/view/2024-07-24-gridmapper-local"
class="uri">https://alexschroeder.ch/view/2024-07-24-gridmapper-local</a></p>
<hr />
<h2 id="office-hours-and-now-for-vice-president">Office Hours: And now,
for vice president?</h2>
<p>date: 2024-07-24, from: Robert Reich’s blog</p>
<p>Friends,</p>
<p><a
href="https://robertreich.substack.com/p/office-hours-for-vice-president"
class="uri">https://robertreich.substack.com/p/office-hours-for-vice-president</a></p>
<hr />
<h2 id="july-23-2024-1">July 23, 2024</h2>
<p>date: 2024-07-24, from: Heather Cox Richardson blog</p>
<p>Vice President Kamala Harris continues her momentum toward the 2024
presidential election since President Joe Biden’s surprise announcement
on Sunday that he would not accept the 2024 Democratic presidential
nomination.</p>
<p><a href="https://heathercoxrichardson.substack.com/p/july-23-2024"
class="uri">https://heathercoxrichardson.substack.com/p/july-23-2024</a></p>
<hr />
<h2 id="curl-8.9.0">curl 8.9.0</h2>
<p>date: 2024-07-24, from: Daniel Stenberg Blog</p>
<p>Numbers the 258th release11 changes63 days (total: 9,623)260 bugfixes
(total: 10,531)423 commits (total: 32,704)0 new public libcurl function
(total: 94)1 new curl_easy_setopt() option (total: 306)4 new curl
command line option (total: 263)80 contributors, 38 new (total: 3,209)47
authors, 16 new (total: 1,288)2 security fixes (total: 157) Download the
new curl release from curl.se as always. …
<a href="https://daniel.haxx.se/blog/2024/07/24/curl-8-9-0/" class="more-link">Continue
reading <span class="screen-reader-text">curl 8.9.0</span> <span
class="meta-nav">→</span></a></p>
<p><a href="https://daniel.haxx.se/blog/2024/07/24/curl-8-9-0/"
class="uri">https://daniel.haxx.se/blog/2024/07/24/curl-8-9-0/</a></p>
<hr />
<h2 id="my-ed-wondering">2024-07-24 My ed, wondering</h2>
<p>date: 2024-07-24, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-24-my-ed-wondering">
2024-07-24 My ed, wondering
</h1>
<p>
Sometimes I have the urge to write a small editor, something like the
kilo project: so small that it is barely usable. I also imagine it to
have a sort of conversational UI – which I guess ed has? – if ed is your
grumpiest of companions! – or maybe the M-x commands for emacs – and I
guess I‘m looking at <a href="Odd%C2%B5">Oddµ</a> as a site generator
and Markdown file server and I wonder: what sort of editor would I need
to maintain this? What sort of minimal SVG editing capabilities would be
nice to have?
</p>
<p>
What if I could use an ed-like “conversational” interface, with better
prompts, wrapped in <code>readline</code> for ‹Up, Return› combos to
repeat things, opening multiple files, switching between them, with
completion or menus, and saving it all in one go.
</p>
<p>
I think I will install <code>rlwrap</code> as a first step and wrap
<code>ed</code> and <code>mail</code> in it.
</p>
<p>
When I read the Wikipedia pages of <code>sam</code> and
<code>acme</code> I get the feeling that the started out at the same
point and then moved towards a different, full-screen, mouse-support
paradigm.
</p>
<p>
What would my ed have, in addition to ed?
</p>
<p>
My ed would have the notion of “units”. Perhaps these can be defined by
a separator marker, a regular expression. A “line” is a unit separated
by a newline, or a “beginning of line” regular expression. A “sentence”
is a unit separated by all sorts of punctuation followed by zero or more
quotes and one or more spaces, and so on. A “block” is a unit separated
by empty lines, or special line beginnings such as header markup or list
item markup. A “section” is a unit separated by line beginnings with
header markup. These unit names and the corresponding separators are
defined in a file, per type, so that they can be changed.
</p>
<p>
File types are associated with file extensions or special matches (such
as looking at the first two lines of a file).
</p>
<p>
My ed would have a config file so that it can be redefined in parts. For
example, every file type has special, system dependent commands to
“render” it, be it compilation, viewing, printing, etc. Perhaps mailcap
could be an interesting option to fall back to.
</p>
<p>
My ed would be line oriented and still offer keyboard navigation using
the arrows or vi-style keys. It would have two panes: the top one would
show the file content and a cursor or the highlighted unit. The bottom
one would be a command line history. The command line history shouldn’t
be a complete file buffer that can be edited, though, because the
temporal ordering seems important to me.
</p>
<p>
The navigation commands can also be used to modify the selection.
Ideally, using arrows to move, shift arrows to select, and typing
commands would all work seamlessly.
</p>
<p>
My ed would have commands that are words or even phrases, and can
defined more of them in files, and edit and “source” them into your
session. It would have understandable errors.
</p>
<p>
My ed would have a snarf buffer or a clipboard to use for cut, copy and
insert. Cutting and copying would work on whole units.
</p>
<p>
My ed would have infinite undo and redo and an auto-save file. Perhaps
the auto-save file would contain the redo script.
</p>
<p>
I’m starting to wonder whether I’m reinventing vi, here. 🤔
</p>
<p>
<a class="tag" href="/search/?q=%23Editors">#Editors</a>
</p>
<p><a href="https://alexschroeder.ch/view/2024-07-24-ed"
class="uri">https://alexschroeder.ch/view/2024-07-24-ed</a></p>
<hr />
<h2 id="what-was-hard-about-the-oddµ-architecture">2024-07-21 What was
hard about the Oddµ architecture?</h2>
<p>date: 2024-07-24, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-21-what-was-hard-about-the-oddµ-architecture">
2024-07-21 What was hard about the Oddµ architecture?
</h1>
<p>
If you know Go, I think you’ll find the architecture of Oddmu to be very
traditional: There is a list of actions it knows how to handle when it
serves a site on the web and a list of commands it understands when
called from the shell. Everything involving HTML or the RSS feed uses a
Go template.
</p>
<p>
There were two things that were tricky, in hindsight. I didn’t know
enough Go to know how best to do it and so it took me a long time to
figure them out.
</p>
<p>
The first was what data to keep in memory. I didn’t want search to
involve a database so I experimented a lot with different ways of
indexing the content. Trigrams? Full-text? And what about scoring? In
the end, I dropped all of that. The only thing I keep in memory is a map
of page names and page titles as well as a map of hashtags and pages. I
find that searching titles and hashtags is what I do most often. For
everything else, I search the files. This, of course, is much slower but
for a site of ten thousand pages it’s still fast enough. So figuring out
how to do search was hard. Once I had this figured out, I discovered
that keeping maps in memory when there are multiple Go routines being
used by the web server means that I need locks. Both of my maps are in
fact data structures that each contain a map and a lock. This was new to
me and it took me a long time to realize that having the lock was
important. For a while, I didn’t have those locks. 😅
</p>
<p>
The second thing that took me a long time to get right is that I wanted
pages to be served from Oddµ when it runs as a web server and I wanted
to be able to edit files locally and upload them (using rsync, for
example) while it was still running on the server. I didn’t know about
watching the filesystem for changes and had to learn how to do this: a
watcher per directory, spawning new watchers when directories are
created, and updating those maps I keep in memory as files are added,
deleted or edited.
</p>
<p>
Watching the files introduced another complication, however: What if a
user edited a page via the web? I already had code in place that would
update my maps. Now the file system watcher would report the same file
being written to, resulting in two updates. And what about a change to a
file that results in multiple events: create a file, write something to
the file, write some more to the file. Three events resulting in three
updates? The code is therefore complicated.
</p>
<p>
If Oddµ knows that a file is going to change ahead of time, like when a
user on the web saves an edit, the file is added to a map of ignored
files for a second. When the file system watcher sees those changes, no
updates are done because it knows that the edit handler already does it.
</p>
<p>
If Oddµ sees a file change because of somebody editing files directly, a
one second timer is started. If another event for the same file arrives,
the timer is reset to one second. Only when a second has elapsed without
changes does the watcher do the updates to the internal data structures.
That is to say, changes made to the file system regarding page title
changes or hash tag changes take an effect on the web with a one second
delay.
</p>
<p>
So now, with all that in place, think of all the go routines running in
parallel. Every one second timer is a go routine. Every go routine
accessing a map like the map if files to ignore means that this map
needs to be a data structure containing a map and a lock.
</p>
<p>
When I look at that part of the code, I still get dizzy. 😵‍💫
</p>
<p>
<a class="tag" href="/search/?q=%23Oddµ">#Oddµ</a>
<a class="tag" href="/search/?q=%23Programming">#Programming</a>
</p>
<p>
<strong>2024-07-21</strong>.
<a class="account" href="https://merveilles.town/@bouncepaw" title="@bouncepaw@merveilles.town"><span
class="citation" data-cites="bouncepaw">@bouncepaw</span></a> asked
about usability issues, specially in the context of using Oddµ for
picture galleries. In my case, I think the hardest part is finding
particular pictures. Consider <a href="2020-blumen/index">the page of
flowers in 2020</a>. I know that there’s a sanseveria in bloom on that
page, for example. But how can I find it? I can find the page if I
search for “bogenhanf #pictures”, and then I can search for the same
word on the page, and then I have to wait for a bit as the browser
lazy-loads pictures.
</p>
<p>
Perhaps, if I could get into the habit of putting the image description
into the Markdown alt text, I could index all the images and their alt
text, providing direct access to the images. I guess I would also have
to add special code to the Markdown renderer that made the alt text
visible for regular visitors (as title attribute or as regular
paragraphs). That’d be interesting.
</p>
<p>
<strong>Later</strong>. I have implemented something useful, I hope. If
one of the search terms (excluding hashtags and predicates) matches an
alt-text of an image, that image is included in the result.
</p>
<p>
Of course, almost none of my galleries use the alt-text, so right now
there aren’t many pages that will show results for a query like
“bogenhanf #pictures”.
</p>
<p>
My expectations regarding alt texts and title attributes for images have
changed significantly as I’ve spent time on fedi, so I’m really not sure
what to do about Markdown in this respect. Right now I’m in the habit of
adding neither alt-text nor title attribute, trying to provide enough
text in the paragraphs above or below. With this new search option, that
might have to change, too. As a sighted person, I sort of expect the
title attribute to be the same as the alt text.
</p>
<p><a
href="https://alexschroeder.ch/view/2024-07-21-what-is-hard-about-oddmu"
class="uri">https://alexschroeder.ch/view/2024-07-21-what-is-hard-about-oddmu</a></p>
<hr />
<h2 id="sponsor-1password-you-cant-ignore-gdpr-anymore">[Sponsor]
1Password: You Can’t Ignore GDPR Anymore</h2>
<p>date: 2024-07-24, updated: 2024-07-24, from: Daring Fireball</p>
<p><a href="https://1password.com/daringfireball"
class="uri">https://1password.com/daringfireball</a></p>
<hr />
<h2 id="wednesday-24-july-2024">Wednesday 24 July, 2024</h2>
<p>date: 2024-07-23, from: John Naughton’s online diary</p>
<p>Peak Viewing The Peak District viewed from Stanage Edge. Note the
strategically-positioned crow. Photo by my son Pete. Quote of the Day “A
new scientific truth does not triumph by convincing its opponents and
making them see the light, but …
<a href="https://memex.naughtons.org/wednesday-24-july-2024/39660/">Continue
reading <span class="meta-nav">→</span></a></p>
<p><a href="https://memex.naughtons.org/wednesday-24-july-2024/39660/"
class="uri">https://memex.naughtons.org/wednesday-24-july-2024/39660/</a></p>
<hr />
<h2
id="year-old-daredevil-jumps-trash-cans-in-alley-on-junker-special-bike">13-Year-Old
Daredevil Jumps Trash Cans in Alley on “Junker Special” Bike</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/13-year-old-daredevil-jumps-trash-cans-in-alley-on-junker-special-bike"
class="uri">https://kottke.org/24/07/13-year-old-daredevil-jumps-trash-cans-in-alley-on-junker-special-bike</a></p>
<hr />
<h2
id="chronic-pain-is-psychedelic.-in-moments-of-extreme-pain-physical-or-psychological">Chronic
Pain is Psychedelic. “In moments of extreme pain, physical or
psychological,…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045007-chronic-pain-is-psychedel"
class="uri">https://kottke.org/24/07/0045007-chronic-pain-is-psychedel</a></p>
<hr />
<h2
id="flint-mi-is-giving-pregnant-residents-a-cash-prescription-of-1500-during">Flint,
MI is giving pregnant residents a “cash prescription” of $1500
during…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045000-flint-mi-is-giving-pregna"
class="uri">https://kottke.org/24/07/0045000-flint-mi-is-giving-pregna</a></p>
<hr />
<h2 id="how-sci-fi-movies-have-changed-since-the-50s">How Sci-Fi Movies
Have Changed Since the 50s</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/how-sci-fi-movies-have-changed-since-the-50s"
class="uri">https://kottke.org/24/07/how-sci-fi-movies-have-changed-since-the-50s</a></p>
<hr />
<h2
id="livestream-of-a-blooming-corpse-flower-you-know-the-big-stinky-one">Livestream
of a blooming corpse flower (you know, the big stinky one)…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0045009-livestream-of-a-blooming-"
class="uri">https://kottke.org/24/07/0045009-livestream-of-a-blooming-</a></p>
<hr />
<h2 id="july-22-2024">July 22, 2024</h2>
<p>date: 2024-07-23, from: Heather Cox Richardson blog</p>
<p><a
href="https://heathercoxrichardson.substack.com/p/july-22-2024-0ab"
class="uri">https://heathercoxrichardson.substack.com/p/july-22-2024-0ab</a></p>
<hr />
<h2
id="trumps-massive-deportation-plan-echoes-concentration-camp-history">“Trump’s
Massive Deportation Plan Echoes Concentration Camp History”</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/trumps-massive-deportation-plan-echoes-concentration-camp-history"
class="uri">https://kottke.org/24/07/trumps-massive-deportation-plan-echoes-concentration-camp-history</a></p>
<hr />
<h2 id="musk-the-foxy-kingmaker">Musk, the Foxy Kingmaker</h2>
<p>date: 2024-07-23, from: Om Malik blog</p>
<p>No matter how much I try to avoid political news, there’s no hiding
from the forthcoming U.S. presidential election and the ensuing
political circus. Not even technology newsletters are a respite. Charlie
Warzel of The Atlantic and Sarah Frier of Bloomberg in their most recent
editions made a point that echoes something I said two …</p>
<p><a href="https://om.co/2024/07/23/musk-the-foxy-kingmaker/"
class="uri">https://om.co/2024/07/23/musk-the-foxy-kingmaker/</a></p>
<hr />
<h2 id="a-generic-version-of-a-drug-thats-as-close-as-weve-ever">A
generic version of a drug that’s “as close as we’ve ever…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044995-a-generic-version-of-a"
class="uri">https://kottke.org/24/07/0044995-a-generic-version-of-a</a></p>
<hr />
<h2 id="kamala-harris-is-to-the-left-of-joe-biden-on-health-care">Kamala
Harris is to the left of Joe Biden on health care…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044994-kamala-harris-is-to-the"
class="uri">https://kottke.org/24/07/0044994-kamala-harris-is-to-the</a></p>
<hr />
<h2
id="from-scientific-american-what-to-know-about-project-2025s-dangers-to-science.">From
Scientific American: What to Know about Project 2025’s Dangers to
Science….</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044993-from-scientific-american-"
class="uri">https://kottke.org/24/07/0044993-from-scientific-american-</a></p>
<hr />
<h2 id="eglot-for-go-perl-and-markdown">2024-07-23 Eglot for Go, Perl
and Markdown</h2>
<p>date: 2024-07-23, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-23-eglot-for-go-perl-and-markdown">
2024-07-23 Eglot for Go, Perl and Markdown
</h1>
<p>
Apparently there’s a way to have Oddµ and Eglot cooperate in Emacs using
<a href="https://github.com/artempyanykh/marksman">Marksman</a>.
</p>
<p>
Note that LSP integration only works in a “project”: a VCS repository,
or in the case of Marksman, a directory containing an (empty)
<code>.marksman.toml</code> file. This latter option is important if
your notes aren’t under version control.
</p>
<p>
After installing the Marksman binary, use something like the following.
This installs Eglot for Go mode, Perl mode and Markdown mode.
</p>
<pre><code>;; There is probably a way to put this inside the use-package form but
;; this is how it works for me.
(add-hook 'go-mode-hook 'eglot-ensure)
(add-hook 'perl-mode-hook 'eglot-ensure)
(add-hook 'markdown-mode-hook 'eglot-ensure)
(autoload 'eglot-ensure &quot;eglot&quot; &quot;Start Eglot session for current buffer if there isn’t one.&quot;)

(use-package eglot :ensure t
  :config (add-to-list 'eglot-server-programs '(markdown-mode . (&quot;marksman&quot;))))

(setq-default eglot-workspace-configuration
    '((:gopls .
        ((staticcheck . t)
         (matcher . &quot;CaseSensitive&quot;)))))
</code></pre>
<p>
<a class="tag" href="/search/?q=%23Emacs">#Emacs</a>
<a class="tag" href="/search/?q=%23Oddµ">#Oddµ</a>
<a class="tag" href="/search/?q=%23Markdown">#Markdown</a>
<a class="tag" href="/search/?q=%23Perl">#Perl</a>
<a class="tag" href="/search/?q=%23Golang">#Golang</a>
</p>
<p><a href="https://alexschroeder.ch/view/2024-07-23-eglot"
class="uri">https://alexschroeder.ch/view/2024-07-23-eglot</a></p>
<hr />
<h2
id="dark-oxygen-source-discovered-on-ocean-floor.-the-metal-nodules-are-able">“Dark
oxygen” source discovered on ocean floor. “The metal nodules are
able…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044992-dark-oxygen-source-discov"
class="uri">https://kottke.org/24/07/0044992-dark-oxygen-source-discov</a></p>
<hr />
<h2 id="a-less-rigorous-version-of-friendship">A Less Rigorous Version
of Friendship</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a
href="https://kottke.org/24/07/a-less-rigorous-version-of-friendship"
class="uri">https://kottke.org/24/07/a-less-rigorous-version-of-friendship</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-23, from: Dave Winer’s Scripting
News)</p>
<p>All the reporters know the Repubs refused to fund border stuff so
they could use it to tag the Dems in the election. So the first thing
the Repubs do is tag VP Harris with the border. The reporter asks a Dem
what they have to say about that. But the reporter <i>knows</i> what the
Repubs did. So why do they even ask the freaking question? They just
play the script the Repubs wrote for them. They are so savvy, but we
heard all that too, so we know how corrupt they are. They don’t care if
we know.</p>
<p><a href="http://scripting.com/2024/07/23.html#a133302"
class="uri">http://scripting.com/2024/07/23.html#a133302</a></p>
<hr />
<h2
id="bodycam-footage-of-aston-villa-midfielder-youri-tielemans-shows-how-quick-and">Bodycam
footage of Aston Villa midfielder Youri Tielemans shows how quick
and…</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044990-bodycam-footage-of-aston-"
class="uri">https://kottke.org/24/07/0044990-bodycam-footage-of-aston-</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-23, from: Dave Winer’s Scripting
News)</p>
<p><a href="https://shownotes.scripting.com/scripting/2024/07/23/podcastStartsWithLinkblogging.html">Show
notes</a> for today’s Scripting podcast.</p>
<p><a href="http://scripting.com/2024/07/23.html#a131631"
class="uri">http://scripting.com/2024/07/23.html#a131631</a></p>
<hr />
<h2 id="podcast-starts-with-linkblogging">Podcast starts with
linkblogging</h2>
<p>date: 2024-07-23, from: Dave Winer’s Scripting News</p>
<p>
A 20-minute morning coffee notes rambler
<a href="https://s3.amazonaws.com/scripting.com/2024/07/23/randomMorningCoffeeNotes.m4a">podcast</a>,
started with a narration of how we do linkblogging these days, mostly by
hand, and how Bluesky is being hurt by not having a large-enough
character limit. Another plea for textcasting, some standards for what
we put on the wire over the social web.
</p>
<p>
Also talked about twitter-like systems, and idea borrowed from
algol-like and lisp-like.
</p>
<p>
I talk about what made Unix so great.
</p>
<p>
Eric Raymond once told me that <a href="https://xmlrpc.com/">XML-RPC</a>
was very much like Unix, and I said oh yeah, and so is
<a href="http://reallysimple.org/">RSS</a> and the rest. Huge compliment
because the simplicity of Unix is what I strive for, put huge time into.
</p>
<p>
Journos once said Apple is dead, but that was ridiculous because they
had built a product that was just starting to grow and they had planted
the seeds of huge growth in the 80s when they focused on selling to
education, which made sure that kids when they grew up would have good
feelings about Apple, and it totally worked. When the reporters were
calling them dead, they were actually just about to boom in a whole new
way, on the web, which the Mac was perfect for, given the built in
simple networking. And then boom again when Jobs came back. And again
with the iPod and then again with the iPhone. See how reporters miss the
big picture. We shouldn’t give them so much power, they pretend they
know, but they are usually pretty clueless.
</p>
<p>
This podcast is also a demo of how my mind works. I flit around all over
the place but also have learned over the years that if I want to get
anything done I have to focus on one thing for at least a few hours
every day, and string those days together.
</p>
<p>
I want to document this stuff for the benefit of young programmers. I
learned a lot from reading the code of Unix, I always want to pay that
back, the message is to strive for simplicity, keep technical debt to a
minimum, and factor, factor and factor again to reduce technical debt.
Those are the hardest projects, I’m doing one of those right now, but in
the end it’s worth it, because with simplicity you get to build higher.
</p>
<p><a
href="http://scripting.com/2024/07/23/130117.html?title=podcastStartsWithLinkblogging"
class="uri">http://scripting.com/2024/07/23/130117.html?title=podcastStartsWithLinkblogging</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-23, from: Dave Winer’s Scripting
News)</p>
<p><img class="imgRightMargin" src="https://imgs.scripting.com/2024/07/23/hopeKamala.png" border="0" style="float: right; padding-left: 25px; padding-bottom: 10px; padding-top: 10px; padding-right: 15px;">I
was able to follow <a href="https://x.com/kamalahq">kamalhq</a> on
twitter. This
<a href="https://www.yahoo.com/news/trump-lover-elon-musk-already-145940678.html">report</a>
says that Musk is rate-limiting followers on that account. Of course we
<a href="http://scripting.com/2017/01/14/whatIfTwtrIsBoughtByARepub.html">warned</a>
what could happen if a Republican bought twitter, but I didn’t honestly
contemplate that a fascist would. These days our greatest fears aren’t
scary enough. People laugh that Musk paid too much for twitter, but if
the US ends up as an autocracy, the oligarch that owns the entire news
distribution system for the world will probably have the last laugh.
BTW, if you want to know why we’re so thrilled to have Harris as the
candidate, even though we didn’t want Joe to give in, it’s because no
informed and sane person wants to live in a new Trump term. We tried
that if you recall. The hope you hear now is much greater than the hope
we had when Obama was selling that (though hope was a good word for it).
Today it’s the hope that we won’t be deported or worse.</p>
<p><a href="http://scripting.com/2024/07/23.html#a122650"
class="uri">http://scripting.com/2024/07/23.html#a122650</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-23, from: Dave Winer’s Scripting
News)</p>
<p>I want future President Harris to stay happy no matter what the
bastards do or say. We should have a crisis line for her to call to get
some quick love. 1-800-LUV-KAMALA.</p>
<p><a href="http://scripting.com/2024/07/23.html#a121858"
class="uri">http://scripting.com/2024/07/23.html#a121858</a></p>
<hr />
<h2 id="odni-memo-on-kaspersky-labs">2017 ODNI Memo on Kaspersky
Labs</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Bruce Schneier blog</p>
<p>
It’s
<a href="https://www.dni.gov/files/documents/FOIA/DF-2018-00013-National-Intelligence-Council-Memorandum.pdf">heavily
redacted</a>, but still interesting.
</p>
<p>
Many more ODNI documents
<a href="https://www.dni.gov/index.php/read-released-records">here</a>.
</p>
<p><a
href="https://www.schneier.com/blog/archives/2024/07/2017-odni-memo-on-kaspersky-labs.html"
class="uri">https://www.schneier.com/blog/archives/2024/07/2017-odni-memo-on-kaspersky-labs.html</a></p>
<hr />
<h2 id="industrial-policy-the-long-and-the-short-of-it.">Industrial
policy – the long and the short of it.</h2>
<p>date: 2024-07-23, from: Enlightenment Economics blog</p>
<p>I’ve been dipping into the proofs of a substantial book, Industrial
Policy for the United States by Marc Fasteau and Ian Fletcher, due out
in September. It will prove a significant resource for anybody
interested in the issue. The book …
<a href="http://www.enlightenmenteconomics.com/blog/index.php/2024/07/industrial-policy-the-long-and-the-short-of-it/">Continue
reading <span class="meta-nav">→</span></a></p>
<p><a
href="http://www.enlightenmenteconomics.com/blog/index.php/2024/07/industrial-policy-the-long-and-the-short-of-it/"
class="uri">http://www.enlightenmenteconomics.com/blog/index.php/2024/07/industrial-policy-the-long-and-the-short-of-it/</a></p>
<hr />
<h2 id="ngircd-and-munin">2024-07-23 ngIRCd and Munin</h2>
<p>date: 2024-07-23, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-23-ngircd-and-munin">
2024-07-23 ngIRCd and Munin
</h1>
<p>
Today I tried to make the
<a href="https://github.com/munin-monitoring/contrib/blob/master/plugins/ircd/irc2">irc2</a>
plugin work for my IRC server.
</p>
<p>
Mostly fiddling with the regular expressions. Adding an optional comma.
Making it case-insensitive. The usual, I guess.
</p>
<p>
I was positively impressed by Debians pre-packaged Perl modules:
</p>
<pre><code>apt install libpoe-component-irc-perl libpoe-component-sslify-perl
</code></pre>
<p>
Here’s the modified plugin for <code>/etc/munin/plugins</code>:
</p>
<pre><code>#!/usr/bin/perl
# -*- perl -*-

=head1 NAME

ircstats  - Plugin to graph data about an IRC network and a single IRC server

=head1 CONFIGURATION

- env.SERVER to point to the server to connect to, defaults to localhost.
- env.PORT port to use, defaults to 6667.
- env.NICK nickname to use, defaults to munin-$HASH.
- env.USESSL 0 or 1 values to enable SSL/TLS, defaults to 0.
- env.USEIPV6 0 or 1 to enable IPv6 use, defaults to 0.

=head1 USAGE

This plugin connects to an IRC server.

It requires POE::Component::IRC and POE::Component::SSLify if you use SSL/TLS.

=head1 AUTHOR

Robin H. Johnson
Alex Schroeder

=head1 LICENSE

3-clause BSD.

=head1 MAGIC MARKERS

  #%# family=manual

=cut
use strict;
use warnings;
use Data::Dumper;
use POE qw(Component::IRC);
use Digest::MD5 qw(md5_hex);

my $nickname = $ENV{NICK} || 'munin-'.substr(md5_hex(rand().time()), 0, 3);
my $ircname = &quot;Munin statistics gathering from $ENV{SERVER}&quot;;
my $server = $ENV{SERVER} || 'localhost';
my $port = $ENV{PORT} || 6667;
my $usessl = $ENV{USESSL} || 0;
my $useipv6 = $ENV{USEIPV6} || 0;

if($ARGV[0] and $ARGV[0] eq &quot;config&quot;) {
  print &quot;graph_title ircd status - $server\n&quot;;
  print &quot;graph_category chat\n&quot;;
  print &quot;graph_order clients channels servers localclients clientmax localclientmax localservers opers unknownconns\n&quot;;
  print &quot;graph_args -l 0\n&quot;;
  print &quot;clients.label clients\n&quot;;
  print &quot;clients.draw LINE2\n&quot;;
  print &quot;channels.label channels\n&quot;;
  print &quot;channels.draw LINE2\n&quot;;
  print &quot;servers.label servers\n&quot;;
  print &quot;servers.draw LINE2\n&quot;;
  print &quot;localclients.label localclients\n&quot;;
  print &quot;localclients.draw LINE2\n&quot;;
  print &quot;clientmax.label clientmax\n&quot;;
  print &quot;clientmax.draw LINE2\n&quot;;
  print &quot;localclientmax.label localclientmax\n&quot;;
  print &quot;localclientmax.draw LINE2\n&quot;;
  print &quot;opers.label opers\n&quot;;
  print &quot;opers.draw LINE2\n&quot;;
  print &quot;localservers.label localservers\n&quot;;
  print &quot;localservers.draw LINE2\n&quot;;
  print &quot;unknownconns.label unknownconns\n&quot;;
  print &quot;unknownconns.draw LINE2\n&quot;;
  exit 0;
}

my %result;

# We create a new PoCo-IRC object
my $irc = POE::Component::IRC-&gt;spawn(
  nick =&gt; $nickname,
  ircname =&gt; $ircname,
  server =&gt; $server,
  port =&gt; $port,
  raw =&gt; 0,
  UseSSL =&gt; $usessl,
  useipv6 =&gt; $useipv6,
    ) or die &quot;Oh noooo! $!&quot;;

POE::Session-&gt;create(
  package_states =&gt; [
    # debug messages:
    # main =&gt; [ qw(_default _start irc_001 irc_376 irc_disconnected irc_public) ],
    # These are the interesting ones:
    # irc_251:  'localhost' 'There are 13 users and 0 services on 2 servers' [There are 13 users and 0 services on 2 servers]
    # irc_254:  'localhost' '26 :channels formed' [26, channels formed]
    # irc_255:  'localhost' 'I have 8 users, 0 services and 1 servers' [I have 8 users, 0 services and 1 servers]
    # irc_265:  'localhost' '8 8 :Current local users: 8, Max: 8' [8, 8, Current local users: 8, Max: 8]
    # irc_266:  'localhost' '13 14 :Current global users: 13, Max: 14' [13, 14, Current global users: 13, Max: 14]
    main =&gt; [ qw(_start irc_001 irc_251 irc_252 irc_253 irc_254 irc_255 irc_265 irc_266 irc_372 irc_375 irc_376 irc_public irc_disconnected) ],
  ],
  heap =&gt; { irc =&gt; $irc },
    );

$poe_kernel-&gt;run();

my $RPL_LUSER_CLIENT = 251;
my $RPL_LUSERCHANNELS = 254;
my $RPL_ENDOFMOTD = 376;

sub _start {
  my ($heap,$kernel,$sender) = @_[HEAP,KERNEL,SENDER];

  # retrieve our component's object from the heap where we stashed it
  my $irc = $heap-&gt;{irc};

  $irc-&gt;yield( register =&gt; 'all' );
  $irc-&gt;yield( connect =&gt; { } );
  return;
}

sub irc_001 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  $irc-&gt;yield( quit =&gt; { });
  return;
}


#irc_251:  'moo.us.p2p-network.net' 'There are 155 users and 3397 invisible on 16 servers' [There are 155 users and 3397 invisible on 16 servers]
# luserclient
sub irc_251 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  # Do we have something like an UnrealIRCD?
  if($s =~  /There are (\d+) users and (\d+) invisible on (\d+) servers/) {
    $result{'clients'} = $1 + $2 - 1; # don't count this script
    $result{'servers'} = $3;
  }
  # Or maybe some freendode hyperion stuff?
  elsif($s =~  /There are (\d+) listed and (\d+) unlisted users on (\d+) servers/) {
    $result{'clients'} = $1 + $2 - 1; # don't count this script
    $result{'servers'} = $3;
  }
  # Or some recent ircnet ircd?
  elsif($s =~  /There are (\d+) users and \d+ services on (\d+) servers/) {
    $result{'clients'} = $1 - 1; # don't count this script
    $result{'servers'} = $2;
  }
  # Anything else goes here
  elsif($s =~  /There are (\d+) users and (\d+) invisible/) {
    $result{'clients'} = $1 + $2 - 1; # don't count this script
  }
  # And here (if there are no invisible count)
  elsif($s =~  /There are (\d+) users/) {
    $result{'clients'} = $1 - 1; # don't count this script
  }
}

#irc_252:  'moo.us.p2p-network.net' '18 :operator(s) online' [18, operator(s) online]
# opers
sub irc_252 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /^(\d+)/) {
    $result{'opers'} = $1;
  }
}

#irc_253:  'moo.us.p2p-network.net' '1 :unknown connection(s)' [1, unknown connection(s)]
sub irc_253 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /^(\d+)/) {
    $result{'unknownconns'} = $1;
  }
}

#irc_254:  'moo.us.p2p-network.net' '1325 :channels formed' [1325, channels formed]
# luserchannels
sub irc_254 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /^(\d+)/) {
    $result{'channels'} = $1;
  }
}

#irc_255:  'moo.us.p2p-network.net' 'I have 348 clients and 1 servers' [I have 348 clients and 1 servers]
# local clients/servers
sub irc_255 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /I have (\d+) clients and (\d+) servers/) {
    $result{'localclients'} = $1-1; # don't count this script
    $result{'localservers'} = $2;
  }
  elsif($s =~  /I have (\d+) users, \d+ services and (\d+) servers/) {
    $result{'localclients'} = $1-1; # don't count this script
    $result{'localservers'} = $2;
  }
}

#irc_265:  'moo.us.p2p-network.net' 'Current Local Users: 348  Max: 1900' [Current Local Users: 348  Max: 1900]
sub irc_265 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /Current Local Users: (\d+),?\s+Max: (\d+)/i) {
    $result{'localclients'} = $1-1; # don't count this script
    $result{'localclientmax'} = $2;
  }
}

#irc_266:  'moo.us.p2p-network.net' 'Current Global Users: 3552  Max: 8742' [Current Global Users: 3552  Max: 8742]
sub irc_266 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  my $s = $_[ARG1];
  if($s =~  /Current Global Users: (\d+),?\s+Max: (\d+)/i) {
    $result{'clients'} = $1-1; # don't count this script
    $result{'clientmax'} = $2;
  }
}

# 372 motdline
sub irc_372 {
  return;
}
# 375 startofmotd
sub irc_375 {
  return;
}
# 376 endofmotd
sub irc_376 {
  my $sender = $_[SENDER];
  my $irc = $sender-&gt;get_heap();
  $irc-&gt;yield( quit =&gt; {} );
}

sub munin_print {
  my $key = shift;
  my $val = shift;
  print &quot;${key}.value &quot;.($val || 'U').&quot;\n&quot;;
}

sub irc_disconnected {
  for my $var (qw(clients channels servers localclients clientmax localclientmax localservers opers unknownconns)) {
    munin_print($var, $result{$var});
  }
  exit 0;
}

sub irc_public {
  my ($sender, $who, $where, $what) = @_[SENDER, ARG0 .. ARG2];
  my $nick = ( split /!/, $who )[0];
  my $channel = $where-&gt;[0];

  if ( my ($rot13) = $what =~ /^rot13 (.+)/ ) {
    $rot13 =~ tr[a-zA-Z][n-za-mN-ZA-M];
    $irc-&gt;yield( privmsg =&gt; $channel =&gt; &quot;$nick: $rot13&quot; );
  }
  return;
}

# We registered for all events, this will produce some debug info.
sub _default {
  my ($event, $args) = @_[ARG0 .. $#_];
  my @output = ( &quot;$event: &quot; );

  for my $arg (@$args) {
    if ( ref $arg eq 'ARRAY' ) {
      push( @output, '[' . join(', ', @$arg ) . ']' );
    }
    else {
      push ( @output, &quot;'$arg'&quot; );
    }
  }
  print join ' ', @output, &quot;\n&quot;;
  return 0;
}
</code></pre>
<p>
To configure, I created the file
<code>/etc/munin/plugin-conf.d/irc.conf</code>:
</p>
<pre><code>[irc2]
env.SERVER campaignwiki.org
env.PORT 6697
env.USESSL 1
</code></pre>
<p>
The result:
</p>
<p>
<img loading="lazy" src="2024-07-23-ngircd-and-munin-1.jpg" alt="A graph showing some ngIRCd data" />
</p>
<p>
<a class="tag" href="/search/?q=%23Administration">#Administration</a>
<a class="tag" href="/search/?q=%23Munin">#Munin</a>
<a class="tag" href="/search/?q=%23IRC">#IRC</a>
<a class="tag" href="/search/?q=%23ngircd">#ngircd</a>
</p>
<p><a href="https://alexschroeder.ch/view/2024-07-23-ngircd-and-munin"
class="uri">https://alexschroeder.ch/view/2024-07-23-ngircd-and-munin</a></p>
<hr />
<h2 id="go-kamala">Go Kamala!</h2>
<p>date: 2024-07-23, from: Robert Reich’s blog</p>
<p>Friends,</p>
<p><a href="https://robertreich.substack.com/p/go-kamala"
class="uri">https://robertreich.substack.com/p/go-kamala</a></p>
<hr />
<h2 id="july-22-2024-1">July 22, 2024</h2>
<p>date: 2024-07-23, from: Heather Cox Richardson blog</p>
<p>Vice President Kamala Harris has continued to rack up endorsements
and delegates since President Biden’s surprise announcement yesterday
that he would not accept the 2024 Democratic presidential nomination. As
of tonight, Harris has the support of at least 2,471 delegates, more
than the 1,976 she will need to secure the nomination.</p>
<p><a href="https://heathercoxrichardson.substack.com/p/july-22-2024"
class="uri">https://heathercoxrichardson.substack.com/p/july-22-2024</a></p>
<hr />
<h2 id="flower-field-trip-to-volunteer-park">Flower field trip to
Volunteer Park</h2>
<p>date: 2024-07-23, from: Tracy Durnell Blog</p>
<p>My friend and I are trying to get out of the house more often,
exploring new destinations we don’t think will be too crowded. (COVID
numbers are high so we both still masked too.) This weekend we headed
into Seattle to the conservatory at Volunteer Park on Capitol Hill. I’ve
always loved the San Francisco […]</p>
<p><a
href="https://tracydurnell.com/2024/07/22/flower-field-trip-to-volunteer-park/"
class="uri">https://tracydurnell.com/2024/07/22/flower-field-trip-to-volunteer-park/</a></p>
<hr />
<h2 id="the-new-overcast">The New Overcast</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Daring Fireball</p>
<p><a href="https://marco.org/2024/07/16/overcast-rewrite"
class="uri">https://marco.org/2024/07/16/overcast-rewrite</a></p>
<hr />
<h2
id="fbi-used-new-cellebrite-software-to-access-trump-shooters-samsung-phone">FBI
Used New Cellebrite Software to Access Trump Shooter’s Samsung
Phone</h2>
<p>date: 2024-07-23, updated: 2024-07-23, from: Daring Fireball</p>
<p><a
href="https://www.bloomberg.com/news/articles/2024-07-18/fbi-used-new-cellebrite-software-to-access-trump-shooter-s-phone"
class="uri">https://www.bloomberg.com/news/articles/2024-07-18/fbi-used-new-cellebrite-software-to-access-trump-shooter-s-phone</a></p>
<hr />
<h2 id="surely-microsoft-isnt-blaming-eu-for-its-problems">Surely
Microsoft Isn’t Blaming EU for Its Problems?</h2>
<p>date: 2024-07-22, from: Om Malik blog</p>
<p>The CrowdStrike fiasco has once again focused the spotlight on
Microsoft’s Achilles’ heel — security, or rather the lack there of. I
have been writing about technology long enough to know that nothing
about the Windows operating system surprises me. Over the weekend, The
Wall Street Journal outlined a multitude of reasons why the “blue …</p>
<p><a
href="https://om.co/2024/07/22/surely-microsoft-isnt-blaming-eu-for-its-problems/"
class="uri">https://om.co/2024/07/22/surely-microsoft-isnt-blaming-eu-for-its-problems/</a></p>
<hr />
<h2 id="thank-you-billionaires">Thank you billionaires</h2>
<p>date: 2024-07-22, from: Dave Winer’s Scripting News</p>
<p>
<div class="divInlineImage">
<center>
<img class="imgInline" src="https://imgs.scripting.com/2024/07/22/messageForBillionaires.png">
</center>
Or, less politely..
</div>
</p>
<p><a
href="http://scripting.com/2024/07/22/214539.html?title=thankYouBillionaires"
class="uri">http://scripting.com/2024/07/22/214539.html?title=thankYouBillionaires</a></p>
<hr />
<h2
id="an-explainer-and-organizational-toolkit-from-red-wine-blue-about-project">An
explainer and organizational toolkit from Red Wine &amp; Blue about
Project…</h2>
<p>date: 2024-07-22, updated: 2024-07-22, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044989-an-explainer-and-organiza"
class="uri">https://kottke.org/24/07/0044989-an-explainer-and-organiza</a></p>
<hr />
<h2 id="the-state-of-docker-on-popular-risc-v-platforms">The state of
Docker on popular RISC-V platforms</h2>
<p>date: 2024-07-22, from: Jeff Geerling blog</p>
<p><span
class="field field--name-title field--type-string field--label-hidden">The
state of Docker on popular RISC-V platforms</span></p>
<pre><code>        &lt;div class=&quot;clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item&quot;&gt;&lt;p&gt;I&#39;ve been testing a &lt;a href=&quot;https://github.com/geerlingguy/sbc-reviews/issues/47&quot;&gt;Milk-V Jupiter&lt;/a&gt; this week, and have tested a number of other RISC-V development boards over the past two years.&lt;/p&gt;</code></pre>
<p>
As with any new CPU architecture, software support and ease of adoption
are extremely important if you want to reach a wider audience. I
wouldn’t expect every developer and SBC hobbyist to be able to compile
the Linux kernel, and the need to compile much of anything these days is
getting rare. So having any instance where one <em>has</em> to know how
to tweak a Makefile or pass in different flags to a compiler is a bit of
a turn-off for platform adoption.
</p>
<p>
So one thing I’ve followed closely is how easy it is for me to get my
own software running on RISC-V boards. It’s one thing to run some
vendor-provided demos. It’s another entirely to take my real-world
applications and infrastructure apps, and get them to work without
hassle.
</p>
<p>
And to that end, Docker and Ansible, two tools I use extensively for
dev/ops work, both run stably—though with plenty of caveats since RISC-V
is still so new.
</p>
</div>
<pre><code>  &lt;span class=&quot;field field--name-uid field--type-entity-reference field--label-hidden&quot;&gt;&lt;span&gt;Jeff Geerling&lt;/span&gt;&lt;/span&gt;</code></pre>
<p><span
class="field field--name-created field--type-created field--label-hidden"><time datetime="2024-07-22T15:32:40-05:00" title="Monday, July 22, 2024 - 15:32" class="datetime">July
22, 2024</time> </span></p>
<p><a
href="https://www.jeffgeerling.com/blog/2024/state-docker-on-popular-risc-v-platforms"
class="uri">https://www.jeffgeerling.com/blog/2024/state-docker-on-popular-risc-v-platforms</a></p>
<hr />
<h2
id="kamala-harris-and-her-views-on-the-climate-crisis.-harris-has-made">Kamala
Harris and her views on the climate crisis. “Harris has made…</h2>
<p>date: 2024-07-22, updated: 2024-07-22, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044988-kamala-harris-and-her-vie"
class="uri">https://kottke.org/24/07/0044988-kamala-harris-and-her-vie</a></p>
<hr />
<h2
id="news-happening-faster-than-man-can-generate-uninformed-opinions.-its-getting-harder">News
Happening Faster Than Man Can Generate Uninformed Opinions. “It’s
getting harder…</h2>
<p>date: 2024-07-22, updated: 2024-07-22, from: Jason Kittke’s blog</p>
<p><a href="https://kottke.org/24/07/0044987-news-happening-faster-tha"
class="uri">https://kottke.org/24/07/0044987-news-happening-faster-tha</a></p>
<hr />
<h2 id="july-21-2024">July 21, 2024</h2>
<p>date: 2024-07-22, from: Heather Cox Richardson blog</p>
<p><a
href="https://heathercoxrichardson.substack.com/p/july-21-2024-655"
class="uri">https://heathercoxrichardson.substack.com/p/july-21-2024-655</a></p>
<hr />
<h2 id="go-features-by-version">Go features by version</h2>
<p>date: 2024-07-22, from: Anton Zhiyanov blog</p>
<p>Which major features appeared in which versions of Go.</p>
<p><a href="https://antonz.org/which-go/"
class="uri">https://antonz.org/which-go/</a></p>
<hr />
<h2 id="im-from-queens-too">I’m from Queens too</h2>
<p>date: 2024-07-22, from: Dave Winer’s Scripting News</p>
<p>
I grew up in the same part of Queens as Trump, about ten years after he
did. His family was in Jamaica, mine in Flushing. Here’s a
<a href="https://www.google.com/maps/dir/2931+170th+Street,+Queens,+NY/85-15+Wareham+Pl,+Jamaica,+NY+11432/@40.74413,-73.7982607,14z/data=!3m1!4b1!4m14!4m13!1m5!1m1!1s0x89c28a8078136589:0xcdf1c8651455269a!2m2!1d-73.7948958!2d40.7696471!1m5!1m1!1s0x89c2611ad4d2c6a5:0xfe60c1b9262c3e04!2m2!1d-73.7858048!2d40.7170409!3e0?entry=ttu">map</a>
that shows you where the two houses are. 4.0 miles apart if you take
<a href="https://en.wikipedia.org/wiki/Utopia_Parkway">Utopia
Parkway</a>. A great name for a street, but it’s not a parkway and it’s
nice but definitely not a utopia.
</p>
<p>
People who aren’t from huge cities like New York don’t know that Trump
what our losers look like. They probably have their own loser types. I
think that’s where 99% of the confusion is. They really don’t believe
he’s so bad. Don’t hold that against them, that’s nowhere near as bad as
knowing what he is and being okay with that.
</p>
<p>
He’s a mean bully type. The name-calling is a big clue. Distracts from
<i>his</i> weaknesses, which are very obvious. I don’t believe in
<a href="https://en.wikipedia.org/wiki/Body_shaming">body shaming</a>,
because I care about other people’s feelings. If I criticize his
appearance it might reflect poorly on nice people who have his body type
who may not be mean bully losers like Trump.
</p>
<p>
He’s also a really good comedian if you don’t think he wants to have the
power to kill millions of people and control many more people. Last time
he was our president just through incompetence, without trying, he was
responsible for the deaths of hundreds of thousands of Americans in the
Covid disaster. He also wanted the army shoot protestors, that’s the
mean part of our former president. Luckily the people who worked for him
told him to fuck off. They saved us from going into a very deep hole
that would have been hard to escape from.
</p>
<p>
I watched the coverage of the aftermath of the assassination attempt,
and listened to the Americans they interviewed, not the actors they put
behind him on stage, to make him look like a badass I guess, these were
just normal people who mostly like Trump, but seem pretty likeable
themselves. The one thing you heard over and over was how If you don’t
like a candidate vote against them don’t shoot them. That’s American and
it’s not fascist at all. I don’t think they know that he wants to make
big changes in how our politics work. People think if he’s bad they can
just vote him out next time. He tells them this will be the last
election if he wins, he actually says that, but somehow it doesn’t seem
to register.
</p>
<p>
<div class="divInlineImage">
<center>
<img class="imgInline" src="https://imgs.scripting.com/2024/07/22/massDeportationNow.png">
</center>
Do Trump supporters understand what they support?
</div>
</p>
<p>
Of course the journalists are distorting who Trump supporters are. Trump
is deplorable if you take him at his word. Some of Trump’s followers are
deplorable too, like the ones who rioted at our Capitol and January 6
and the people who are lined up to work in his next administration if he
wins. They are awful people who want to control all of us. They’re
already doing it via the Supreme Court. It’s going to get a lot worse if
we go the wrong way. We shouldn’t accept that we’re horribly divided.
The powerful media people want us to be divided, I don’t know why and I
don’t care, I just know they do, based on their actions.
</p>
<p>
Anyway I know we’re at a high moment, we’re excited, and I’m going to
enjoy the feeling. We all seem to be pulling the same way, at least on
“our side” but I hold out hope that being an American still means
something, that we can be friends, and fellow countrymen, and work
together. I think that’s still our greatest challange and our greatest
opportunity. Yeah I am woke, that means I care about all of us. I think
most of us do no matter who you vote for.
</p>
<p><a
href="http://scripting.com/2024/07/22/165652.html?title=imFromQueensToo"
class="uri">http://scripting.com/2024/07/22/165652.html?title=imFromQueensToo</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-22, from: Dave Winer’s Scripting
News)</p>
<p>For the DNC in 2004, we had a site called
<a href="https://web.archive.org/web/20040805042053/https://www.conventionbloggers.com/">Convention
Bloggers</a>. It was a river of news feed reader, clearly done with
Frontier, of blogs run by people who were at the convention.</p>
<p><a href="http://scripting.com/2024/07/22.html#a141250"
class="uri">http://scripting.com/2024/07/22.html#a141250</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-22, from: Dave Winer’s Scripting
News)</p>
<p>Looking forward to the NYT deeply analyzing Trump‘s 78 year old mind
and body and his Hannibal Lecter stories.</p>
<p><a href="http://scripting.com/2024/07/22.html#a125843"
class="uri">http://scripting.com/2024/07/22.html#a125843</a></p>
<hr />
<h2 id="bots-again">2024-07-20 Bots again</h2>
<p>date: 2024-07-22, from: Alex Schroeder’s Blog</p>
<h1 id="2024-07-20-bots-again">
2024-07-20 Bots again
</h1>
<p>
Today I couldn’t log into the server. <code>ssh</code> just sat there,
waiting for the server. Some web page loaded a few bytes and stopped. I
knew it: some idiot had once again written a bot that was hitting my web
apps (also known as “expensive endpoints”) because they ignored all the
rules. They also didn’t get caught by fail2ban because of they were
using cloud services, of course. And the only thing that helps against
these fuckers is banning the whole network. Time to get working.
</p>
<p>
First, I had to reboot the server via the website of my service
provider.
</p>
<p>
Then I had to figure out which app it was. It’s impossible for me to
find out. All my expensive apps are from a directory called
<code>/home/alex/farm</code>.
</p>
<p>
When I look at the system log file I, find entries like these:
</p>
<pre><code>grep &quot;Out of memory&quot; /var/log/syslog | tail | cut -b 72-
Out of memory: Killed process 1525 (/home/alex/farm) total-vm:95736kB, anon-rss:7700kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 521 (node) total-vm:1268068kB, anon-rss:63440kB, file-rss:0kB, shmem-rss:0kB, UID:118 pgtables:2112kB oom_score_adj:0
Out of memory: Killed process 12302 (/home/alex/farm) total-vm:92464kB, anon-rss:54820kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 12622 (/home/alex/farm) total-vm:92420kB, anon-rss:53040kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 12628 (/home/alex/farm) total-vm:92712kB, anon-rss:51460kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:212kB oom_score_adj:0
Out of memory: Killed process 12632 (/home/alex/farm) total-vm:92556kB, anon-rss:51916kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 12206 (/home/alex/farm) total-vm:92320kB, anon-rss:57256kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 12016 (/home/alex/farm) total-vm:92292kB, anon-rss:57740kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
Out of memory: Killed process 12689 (/home/alex/farm) total-vm:92728kB, anon-rss:57444kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:212kB oom_score_adj:0
Out of memory: Killed process 12041 (/home/alex/farm) total-vm:92484kB, anon-rss:58288kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
</code></pre>
<p>
This is not helping. Who is 12041? There are large lists of the process
identifiers and some numbers in the log, but the name is always
shortened:
</p>
<pre><code>grep &quot;12041&quot; /var/log/syslog | tail -n 3
2024-07-20T19:51:03.968678+02:00 sibirocobombus kernel: [ 3275.028117] [  12041]  1000 12041    23121    14572   212992     4117             0 /home/alex/farm
2024-07-20T19:51:03.968882+02:00 sibirocobombus kernel: [ 3275.028363] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/monit.service,task=/home/alex/farm,pid=12041,uid=1000
2024-07-20T19:51:03.968883+02:00 sibirocobombus kernel: [ 3275.028378] Out of memory: Killed process 12041 (/home/alex/farm) total-vm:92484kB, anon-rss:58288kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:208kB oom_score_adj:0
</code></pre>
<p>
Useless.
</p>
<p>
By that time, however, the system was slowing down again. I fired up
<code>htop</code> and saw a gazillion instances of the Community Wiki
script. Looking at the <code>/etc/log/apache2/access.log</code> file
shows that bots were requesting the edit pages (!) of all the thousands
of Community Wiki pages.
</p>
<p>
Thanks, idiots.
</p>
<p>
I needed to find where these requests where coming from. My
<a href="https://alexschroeder.ch/admin/leech-detector">leech-detector</a>
script was as limited to single IP numbers as fail2ban. So the first
order of business was to add some functionality: If given the option
<code>–networks</code>, it now looks up the network range the requests
come from and reports those:
</p>
<pre><code>tail -n 50 /var/log/apache2/access.log | grep communitywiki | bin/admin/leech-detector --networks
</code></pre>
<p>
This is expensive, of course, so I try to cache the
<a href="https://www.routeviews.org/routeviews/index.php/collectors/">Route
View ASN lookups</a> but the cache doesn’t persist between calls. Using
a small number of rows is the correct approach, here.
</p>
<p>
The result is a table like the one below. When I ran it, I used 400 rows
or so.
</p>
<table>
<thead>
<tr>
<th align="right">
IP
</th>
<th align="right">
Hits
</th>
<th align="right">
Bandw.
</th>
<th align="right">
Rel.
</th>
<th align="right">
Interv.
</th>
<th>
Status
</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">
117.22.0.0/15
</td>
<td align="right">
1
</td>
<td align="right">
6K
</td>
<td align="right">
25%
</td>
<td align="right">
</td>
<td>
200 (100%)
</td>
</tr>
<tr>
<td align="right">
59.172.0.0/14
</td>
<td align="right">
1
</td>
<td align="right">
6K
</td>
<td align="right">
25%
</td>
<td align="right">
</td>
<td>
200 (100%)
</td>
</tr>
<tr>
<td align="right">
114.104.0.0/14
</td>
<td align="right">
1
</td>
<td align="right">
6K
</td>
<td align="right">
25%
</td>
<td align="right">
</td>
<td>
200 (100%)
</td>
</tr>
<tr>
<td align="right">
220.184.0.0/13
</td>
<td align="right">
1
</td>
<td align="right">
6K
</td>
<td align="right">
25%
</td>
<td align="right">
</td>
<td>
200 (100%)
</td>
</tr>
</tbody>
</table>
<p>
If you then start using <code>whois</code> on the numbers, you’ll see:
</p>
<ul>
<li>
117.22.0.0 → China Telecom
</li>
<li>
59.172.0.0 → China Telecom
</li>
<li>
114.104.0.0 → China Telecom
</li>
<li>
220.184.0.0 → Zhejiang Telecom
</li>
</ul>
<p>
I think you know where this is going.
</p>
<p>
And so I copying the network IP, calling <code>whois</code>, verifying
that it was Chinese Telecom or related, and added it to my
<a href="https://alexschroeder.ch/admin/ban-cidr">ban-cidr</a> script.
(Note how I’m using <code>netfilter-persistent</code> these days so that
I don’t have to run <code>ban-cidr</code> after every server restart.)
</p>
<p>
And now I’m going to add the ranges above to the script.
</p>
<p>
Some days I feel like I’m slowly starting to ban the whole commercial
cloud service internet because nothing good ever seems to come of it. Do
you feel the same?
</p>
<p>
<a class="tag" href="/search/?q=%23Administration">#Administration</a>
<a class="tag" href="/search/?q=%23Bots">#Bots</a>
<a class="tag" href="/search/?q=%23Butlerian_Jihad">#Butlerian Jihad</a>
</p>
<p>
<strong>2024-07-22</strong>. Here’s another slight annoyance, for
<code>ngircd</code>. There are a lot of log lines for a day:
</p>
<pre><code>journalctl --unit ngircd.service|grep &quot;Jul 21&quot;|wc -l
7436
</code></pre>
<p>
More than half of them come from a single IP hosted by Octopuce:
</p>
<pre><code>journalctl --unit ngircd.service|grep &quot;Jul 21.*2001:67c:288:2::231&quot;|wc -l
4347
</code></pre>
<p>
They all have this format:
</p>
<pre><code>Jul 21 11:39:51 sibirocobombus ngircd[594]: Accepted connection 16 from &quot;[2001:67c:288:2::231]:41240&quot; on socket 8.
Jul 21 11:39:51 sibirocobombus ngircd[594]: Using X509 credentials from slot 0
Jul 21 11:39:51 sibirocobombus ngircd[594]: Shutting down connection 16 (SSL accept error, closing socket) with &quot;[2001:67c:288:2::231]:41240&quot; ...
Jul 21 11:39:51 sibirocobombus ngircd[594]: Client unregistered (connection 16): SSL accept error, closing socket.
Jul 21 11:39:51 sibirocobombus ngircd[594]: Connection 16 with &quot;[2001:67c:288:2::231]:41240&quot; closed (in: 0.0k, out: 0.0k).
</code></pre>
<p>
I’m going to try and use <code>fail2ban</code> for this.
</p>
<p>
Looks like this is happening every 10 seconds:
</p>
<pre><code>journalctl --unit ngircd.service|grep &quot;Jul 21.*Shutting down&quot;|tail|cut -d ' ' -f 3
23:58:23
23:58:33
23:58:43
23:58:53
23:59:03
23:59:13
23:59:23
23:59:33
23:59:43
23:59:53
</code></pre>
<p>
So here’s my attempt at a filter,
<code>/etc/fail2ban/filter.d/ngircd.conf</code>:
</p>
<pre><code># Fail2Ban filter for failed ssl connections to the ngIRC daemon

[INCLUDES]
# Read common prefixes. If any customizations available -- read them from
# common.local
before = common.conf

[Definition]
# Example:
# Shutting down connection 16 (SSL accept error, closing socket) with &quot;[2001:67c:288:2::231]:44846&quot;
_daemon = ngircd
failregex = ^%(__prefix_line)sShutting down connection [0-9]+ \(SSL accept error, closing socket\) with &quot;&lt;HOST&gt;:[0-9]+&quot; \.\.\.$
ignoreregex = 

[Init]
journalmatch = _SYSTEMD_UNIT=ngircd.service + _COMM=ngircd

# Author: Alex Schroeder
</code></pre>
<p>
And this is the jail, <code>/etc/fail2ban/jail.d/ngircd.conf</code> –
and here I want to ban them after four failed connects in a minute.
Remember the default ban lasts 10 minutes. Since this attack is moving
so slowly, I want to increase this ban time to an hour.
</p>
<pre><code>[ngircd]
enabled = true
findtime = 60
maxretry = 4
bantime = 60m
</code></pre>
<p>
Let’s give it a try!
</p>
<pre><code>systemctl reload fail2ban
</code></pre>
<p>
Then again: fail2ban is only for future attacks. The current level of
persistency also deserves its own treatment:
</p>
<pre><code>ipset create banlist6 hash:net family inet6
ip6tables -I INPUT -m set --match-set banlist6 src -j DROP
ip6tables -I FORWARD -m set --match-set banlist6 src -j DROP
ipset add banlist6 2001:67c:288:2::231
</code></pre>
<p>
There we go.
</p>
<p>
Oh, and as soon as I did that, it switched to 91.194.61.231, but only
once every two or three minutes. Still Octopuce, though.
</p>
<pre><code>ipset add banlist 91.194.60.0/23
</code></pre>
<p>
<strong>2024-07-22</strong>. Back to Community Wiki and its enemies,
however.
</p>
<p>
<img loading="lazy" src="2024-07-20-bots-again-1.jpg" alt="" />
</p>
<p>
1.92GiB for the bots?
</p>
<p><a href="https://alexschroeder.ch/view/2024-07-20-bots-again"
class="uri">https://alexschroeder.ch/view/2024-07-20-bots-again</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-22, from: Dave Winer’s Scripting
News)</p>
<p><a href="https://shownotes.scripting.com/podcast0/2024/07/22/1amPredncPodcastRamble.html">Show
notes</a> for 2004 pre-DNC podcast, part of the
<a href="https://this.how/podcast0/">Podcast0</a> series.</p>
<p><a href="http://scripting.com/2024/07/22.html#a124622"
class="uri">http://scripting.com/2024/07/22.html#a124622</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-22, from: Dave Winer’s Scripting
News)</p>
<p>I’m doing something new. Trying to initiate topics on the social web.
We almost totally respond to external stuff, I wonder how different it
would be if we engaged on a more individual level. I’ve been doing this
for a while, but only now am able to explain it.</p>
<p><a href="http://scripting.com/2024/07/22.html#a122821"
class="uri">http://scripting.com/2024/07/22.html#a122821</a></p>
<hr />
<h2 id="snake-mimics-a-spider">Snake Mimics a Spider</h2>
<p>date: 2024-07-22, updated: 2024-07-22, from: Bruce Schneier blog</p>
<p>
This is a fantastic video. It’s an Iranian spider-tailed horned viper
(<i>Pseudocerastes urarachnoides</i>). Its tail looks like a spider,
which the snake uses
<a href="https://www.youtube.com/watch?v=XFjoqyVRmOU">to</a>
<a href="https://www.msn.com/en-us/news/technology/this-might-look-like-a-spider-but-you-re-in-for-a-shock/ar-AA1mBOJi">fool</a>
passing birds looking for a meal.
</p>
<p><a
href="https://www.schneier.com/blog/archives/2024/07/snake-mimics-a-spider.html"
class="uri">https://www.schneier.com/blog/archives/2024/07/snake-mimics-a-spider.html</a></p>
<hr />
<h2 id="what-we-must-do-now">What we must do now</h2>
<p>date: 2024-07-22, from: Robert Reich’s blog</p>
<p>Friends,</p>
<p><a href="https://robertreich.substack.com/p/what-dems-must-do-now"
class="uri">https://robertreich.substack.com/p/what-dems-must-do-now</a></p>
<hr />
<h2 id="july-21-2024-1">July 21, 2024</h2>
<p>date: 2024-07-22, from: Heather Cox Richardson blog</p>
<p>“My Fellow Americans,</p>
<p><a href="https://heathercoxrichardson.substack.com/p/july-21-2024"
class="uri">https://heathercoxrichardson.substack.com/p/july-21-2024</a></p>
<hr />
<h2 id="straight-no-chaser-gerry-mulligan-and-thelonius-monk">Straight
No Chaser – Gerry Mulligan and Thelonius Monk</h2>
<p>date: 2024-07-22, from: Tracy Durnell Blog</p>
<p>This whole album is good. I also had a collection called Gerry
Mulligan Meets the Saxophonists that drew from his combos with Ben
Webster, Zoot Sims, and Johnny Hodges.* I’m partial to the Ben Webster
myself. *(Then, being somewhat obsessive about jazz in HS and college, I
got all the original albums, which included ordering […]</p>
<p><a
href="https://tracydurnell.com/2024/07/21/straight-no-chaser-gerry-mulligan-and-thelonius-monk/"
class="uri">https://tracydurnell.com/2024/07/21/straight-no-chaser-gerry-mulligan-and-thelonius-monk/</a></p>
<hr />
<h2 id="thank-you-joe.">Thank you, Joe.</h2>
<p>date: 2024-07-22, from: Robert Reich’s blog</p>
<p>Friends,</p>
<p><a href="https://robertreich.substack.com/p/thank-you-joe"
class="uri">https://robertreich.substack.com/p/thank-you-joe</a></p>
<hr />
<h2 id="monday-22-july-2024">Monday 22 July, 2024</h2>
<p>date: 2024-07-21, from: John Naughton’s online diary</p>
<p>Evolution Of one thing at least we can be sure: ‘soapy Sam’ would not
have approved of the graphic. Quote of the Day With the birth of the
artist came the inevitable afterbirth… the critic.” Mel Brooks Musical
alternative to …
<a href="https://memex.naughtons.org/monday-22-july-2024/39655/">Continue
reading <span class="meta-nav">→</span></a></p>
<p><a href="https://memex.naughtons.org/monday-22-july-2024/39655/"
class="uri">https://memex.naughtons.org/monday-22-july-2024/39655/</a></p>
<hr />
<h2 id="biden-bows-out">Biden Bows Out</h2>
<p>date: 2024-07-21, from: Dan Rather’s Steady</p>
<p>Americans, every one of us, are about to be tested as never before.
We have always been known for our ability to rise above challenges. This
will be one for the ages. I have hope and faith that we are up to it. We
had better be. Democracy as we have known it depends on us.</p>
<p><a href="https://steady.substack.com/p/biden-bows-out"
class="uri">https://steady.substack.com/p/biden-bows-out</a></p>
<hr />
<h2
id="election-countdown-107-days-to-go-joe-biden-passes-the-torch">Election
Countdown, 107 Days to Go: Joe Biden Passes the Torch</h2>
<p>date: 2024-07-21, from: James Fallows, Substack</p>
<p>A sitting president changes everything about the race. We’ll remember
where we were, when we heard this news.</p>
<p><a
href="https://fallows.substack.com/p/election-countdown-107-days-to-go"
class="uri">https://fallows.substack.com/p/election-countdown-107-days-to-go</a></p>
<hr />
<h2 id="todays-other-stuff">Today’s other stuff</h2>
<p>date: 2024-07-21, from: Dave Winer’s Scripting News</p>
<p>
<img class="imgRightMargin" src="https://imgs.scripting.com/2024/06/11/nakedJenToday.png" border="0" style="float: right; padding-left: 25px; padding-bottom: 10px; padding-top: 10px; padding-right: 15px;">BTW,
there is a
<a href="https://en.wikipedia.org/wiki/Twenty-fifth_Amendment_to_the_United_States_Constitution">totally
legit and legal way</a> to deal with the issue people are grappling
with, w/o any fancy new extra-legal ways of nominating a president that
resolves it in a minute, if the Cabinet goes along with the idea that
the current president isn’t able to do the job, and if being re-elected
is a legitimate part of doing the job.
</p>
<p>
Pretty sure most people don’t get that being president is a job, not a
role someone plays in a TV sitcom.
</p>
<p>
Great wealth is poison, that’s what’s playing out in the
NYT-orchestrated overthrow of the American government. They’re driving
us into the arms of the Nazis. Who knows why, or even if there is a
reason, other than their drive to find meaning in their great wealth.
Their problem, and ours, is that it has no meaning, no human can use the
money they’ve accumulated. These are not human-size fortunes, playing a
game of make-believe, what if we really were as smart as we think our
money says we are. Well you ain’t that smart.
</p>
<p><a
href="http://scripting.com/2024/07/21/212648.html?title=todaysOtherStuff"
class="uri">http://scripting.com/2024/07/21/212648.html?title=todaysOtherStuff</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-21, from: Dave Winer’s Scripting
News)</p>
<p><a href="https://talkingpointsmemo.com/news/bidens-exit-puts-the-spotlight-on-the-dnc-delegates">The
earth shook today</a>. I’m watching the news like everyone else after
President Biden withdrew. There really is a lot happening very quickly,
and the Dems all sound like they got their story straight, for once the
Dems sound like a party. How did that happen. NakedJen says we need a
miracle. I said that’s her department. <span
class="spOldSchoolEmoji">❤️</span></p>
<p><a href="http://scripting.com/2024/07/21.html#a212256"
class="uri">http://scripting.com/2024/07/21.html#a212256</a></p>
<hr />
<h2
id="biden-drops-out-of-reelection-bid-fully-endorses-kamala-harris">Biden
Drops Out of Reelection Bid, Fully Endorses Kamala Harris</h2>
<p>date: 2024-07-21, updated: 2024-07-21, from: Daring Fireball</p>
<p><a href="https://x.com/JoeBiden/status/1815080881981190320"
class="uri">https://x.com/JoeBiden/status/1815080881981190320</a></p>
<hr />
<h2 id="nyt-just-stop-podcast">NYT just stop podcast</h2>
<p>date: 2024-07-21, from: Dave Winer’s Scripting News</p>
<p>
<img class="imgRightMargin" src="https://imgs.scripting.com/2024/07/04/butHerEmails.png" border="0" style="float: right; padding-left: 25px; padding-bottom: 10px; padding-top: 10px; padding-right: 15px;">A
two-minute
<a href="http://scripting.com/2024/07/21/nytSayYourSorryAndGetBackToNews.m4a">podcast</a>
where I dictate an op-ed the NYT should run in its own name, apologizing
for trying to take over the US government, and promising to return to
being a news organization.
</p>
<p>
I am so fed up with it. Today they ran an op-ed written by
<a href="https://en.wikipedia.org/wiki/Aaron_Sorkin">Aaron Sorkin</a>
giving advice to Democrats based on his experience writing scripts for a
<a href="https://en.wikipedia.org/wiki/The_West_Wing">fictional White
House</a> <i>television show</i> in the late 90s and early 00s.
</p>
<p>
Yeah the NYT has lost its way. I hope some people down there think
they’re way out on a limb and it’s time to get back to what they do.
They are not qualified or entitled to do what they are doing.
</p>
<p><a
href="http://scripting.com/2024/07/21/125022.html?title=nytJustStopPodcast"
class="uri">http://scripting.com/2024/07/21/125022.html?title=nytJustStopPodcast</a></p>
<hr />
<h2 id="alison-krauss">Alison Krauss</h2>
<p>date: 2024-07-21, from: Dan Rather’s Steady</p>
<p>A Reason To Smile</p>
<p><a href="https://steady.substack.com/p/alison-krauss"
class="uri">https://steady.substack.com/p/alison-krauss</a></p>
<hr />
<h2 id="sunday-caption-contest-the-republican-convention">Sunday caption
contest: The Republican Convention</h2>
<p>date: 2024-07-21, from: Robert Reich’s blog</p>
<p>And last week’s winner</p>
<p><a
href="https://robertreich.substack.com/p/sunday-caption-contest-the-republican-029"
class="uri">https://robertreich.substack.com/p/sunday-caption-contest-the-republican-029</a></p>
<hr />
<h2 id="july-20-2024">July 20, 2024</h2>
<p>date: 2024-07-21, from: Heather Cox Richardson blog</p>
<p>Spent the evening with family, and my photographer nephew showed me
today’s capture: a seagull trying to move in on an osprey’s catch. It’s
a nice break to see drama from something other than the human news this
past week— it seemed relentless.</p>
<p><a href="https://heathercoxrichardson.substack.com/p/july-20-2024"
class="uri">https://heathercoxrichardson.substack.com/p/july-20-2024</a></p>
<hr />
<h2 id="what-crowdstrike-teaches-us-about-risks-resilience">What
CrowdStrike teaches us about risks &amp; resilience</h2>
<p>date: 2024-07-21, from: Om Malik blog</p>
<p>I had to bite my tongue and not comment on this tweet from FTC Chair
Lina Khan, who tried to make the current CrowdStrike situation a crisis
because of “big tech” and “consolidation.” “How is it that you don’t
understand systems, or their inherent complexity?”, I wanted to scream.
Well, if you give someone a …</p>
<p><a
href="https://om.co/2024/07/20/what-crowdstrike-crisis-teaches-us-about-risks-resilience/"
class="uri">https://om.co/2024/07/20/what-crowdstrike-crisis-teaches-us-about-risks-resilience/</a></p>
<hr />
<h2 id="why-chatgpt-is-simply-better">Why ChatGPT is simply better</h2>
<p>date: 2024-07-21, from: Dave Winer’s Scripting News</p>
<p>
One great use for ChatGPT, simple recipes.
</p>
<p>
If you try looking for a recipe on Google they take forever to get to
the point, and pop up all kinds of offers when all you wanted was a
checklist of ingredients and steps.
</p>
<p>
For example,
<a href="https://chatgpt.com/share/c9b39a6b-ad4b-4931-9f7e-93c6c7685c03">how
to make hard-boiled eggs</a>.
</p>
<p>
Try doing the
<a href="https://www.google.com/search?q=how+to+make+hard+boiled+eggs">same
thing</a> on Google to see what I mean.
</p>
<p><a
href="http://scripting.com/2024/07/20/021006.html?title=whyChatgptIsSimplyBetter"
class="uri">http://scripting.com/2024/07/20/021006.html?title=whyChatgptIsSimplyBetter</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-21, from: Dave Winer’s Scripting
News)</p>
<p>I trust that President Biden will do what’s best for the country.</p>
<p><a href="http://scripting.com/2024/07/20.html#a020610"
class="uri">http://scripting.com/2024/07/20.html#a020610</a></p>
<hr />
<p><strong><span class="citation" data-cites="Dave">@Dave</span> Winer’s
Scripting News</strong> (date: 2024-07-21, from: Dave Winer’s Scripting
News)</p>
<p><a href="https://www.salon.com/2024/07/20/its-not-that-complicated-pete-buttigieg-on-why-a-gay-billionaire-is-backing-jd-vance/">Pete
Buttigieg</a> should be the Democrats’ official blogger. Every day a new
insight into what makes people do what they do and why the Dems have all
the right ideas. He’s a perfect spokesperson in that role. A daily Pete.
He should do it.</p>
<p><a href="http://scripting.com/2024/07/20.html#a020551"
class="uri">http://scripting.com/2024/07/20.html#a020551</a></p>
</section>
<footer>
Antenna is a personal aggregation of items found around the web.
Curated with <a href="https://rsdoiel.github.io/skimmer">skimmer</a> and <a href="https://sqlite.org">sqlite</a> then rendered with <a href="https://pandoc.org">Pandoc</a> with search provided by <a href="https://pagefind.app">PageFind</a>.
</footer>
<script type="module">
    await import('/pagefind/pagefind-highlight.js');
    new PagefindHighlight({ highlightParam: "highlight" });
</script>
</body>
</html>
