<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" >
  <title>retro computing</title>
<!--  <link rel="stylesheet" type="text/css"  href="../webfonts/fonts.css" media="screen" > -->
  <link rel="stylesheet" type="text/css"  href="../css/site.css" media="screen" >
</head>
<body>
<header>
	<img class="logo" 
	src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Antenna_1_-_The_Noun_Project.svg"
	alt="line art showing an antenna"
	height="80" width="60" >
	<h1>The Antenna</h1> 
	<h2>finding signal in the noise</h2>
</header>
<nav>
<ul>
	<li><a href="../../">The Antenna</a></li>
	<li><a href="../">Archives</a></li>
	<li><a href="../../about.html">About</a></li>
</ul>
</nav>
<section>
<div class="description-for-items">
<h2>retro computing</h2>
An experiment in personal news aggregation.
</div>
<h1 id="retro-computing">retro computing</h1>
<p>(date: 2025-04-12 06:08:01)</p>
<hr />
<h2 id="this-week-on-the-analog-antiquarian">This Week on The Analog
Antiquarian</h2>
<p>date: 2025-04-11, from: Digital Antiquarian</p>
<p>The Voyage of Magellan, Chapter 27: Into Unknown Oceans</p>
<p><br></p>
<p><a
href="https://www.filfre.net/2025/04/this-week-on-the-analog-antiquarian/"
class="uri">https://www.filfre.net/2025/04/this-week-on-the-analog-antiquarian/</a></p>
<hr />
<h2 id="asahi-linux-runs-into-issues-with-m4-support">Asahi Linux Runs
into Issues with M4 Support</h2>
<p>date: 2025-04-11, from: Linux Magazine</p>
<p>
Due to Apple Silicon changes, the Asahi Linux project is at odds with
adding support for the M4 chips.
</p>
<p><br></p>
<p><a
href="http://www.linux-magazine.com/Online/News/Asahi-Linux-Runs-into-Issues-with-M4-Support"
class="uri">http://www.linux-magazine.com/Online/News/Asahi-Linux-Runs-into-Issues-with-M4-Support</a></p>
<hr />
<h2 id="servicing-a-power-mac-g5-quad-lcs-an-a-z-guide">Servicing a
Power Mac G5 Quad LCS – An A-Z Guide</h2>
<p>date: 2025-04-10, from: Happy Macs site</p>
<p>The Achilles heel of most late 2005 Power Mac G5 Quads is the Liquid
Cooling System (LCS). When it starts to fail, your G5 Quad will run
louder and hotter and eventually will cease to operate entirely. This
blog post concerns itself with servicing that LCS, so that your Quad
remains a productive member of […]</p>
<p><br></p>
<p><a
href="https://happymacs.wordpress.com/2025/04/10/servicing-a-power-mac-g5-quad-lcs-an-a-z-guide/"
class="uri">https://happymacs.wordpress.com/2025/04/10/servicing-a-power-mac-g5-quad-lcs-an-a-z-guide/</a></p>
<hr />
<h2 id="archive-edition-275-reviewed">Archive Edition 27:5 reviewed</h2>
<p>date: 2025-04-10, from: Icon Bar, RISC OS News</p>
<p>Archive Magazine 27:5 arrived hot off the press for attendees of RISC
OS North to pick up their copy. If you were not there, it should
appearing in your mail box/doorstep as usual.</p>
<p><br></p>
<p><a href="http://www.iconbar.com/comments/rss/news2193.html"
class="uri">http://www.iconbar.com/comments/rss/news2193.html</a></p>
<hr />
<h2 id="plasma-6.3.4-now-available">Plasma 6.3.4 Now Available</h2>
<p>date: 2025-04-08, from: Linux Magazine</p>
<p>
Although not a major release, Plasma 6.3.4 does fix some bugs and offer
a subtle change for the Plasma sidebar.
</p>
<p><br></p>
<p><a
href="http://www.linux-magazine.com/Online/News/Plasma-6.3.4-Now-Available"
class="uri">http://www.linux-magazine.com/Online/News/Plasma-6.3.4-Now-Available</a></p>
<hr />
<h2 id="linux-kernel-6.15-first-release-candidate-now-available">Linux
Kernel 6.15 First Release Candidate Now Available</h2>
<p>date: 2025-04-08, from: Linux Magazine</p>
<p>
Linux Torvalds has announced that the release candidate for the final
release of the Linux 6.15 series is now available.
</p>
<p><br></p>
<p><a
href="http://www.linux-magazine.com/Online/News/Linux-Kernel-6.15-First-Release-Candidate-Now-Available"
class="uri">http://www.linux-magazine.com/Online/News/Linux-Kernel-6.15-First-Release-Candidate-Now-Available</a></p>
<hr />
<h2 id="dragndrop-14i3-edition-reviewed">Drag’n’Drop 14i3 edition
reviewed</h2>
<p>date: 2025-04-08, from: Icon Bar, RISC OS News</p>
<p>The latest edition of Drag’n’Drop magazine was released at the RISC
OS North Show (where you could also chat to the editor on his stand).
This edition is 25 pages of news, reviews, tools and lots of code. As
always, there is a newbies sections answering questions you might have.
As it is a PDF you can read it on just about any system (I read it on my
M4 MAC laptop).</p>
<p><br></p>
<p><a href="http://www.iconbar.com/comments/rss/news2192.html"
class="uri">http://www.iconbar.com/comments/rss/news2192.html</a></p>
<hr />
<h2
id="b.log-20250406---five-thousand-mowing-coffee-capsules-sad-trump-sakura-starts-swallows-vegetables-hovercat.">b.log
2025/04/06 - Five thousand, Mowing!!!, Coffee capsules, Sad Trump!,
Sakura starts! Swallows!, Vegetables, Hovercat.</h2>
<p>date: 2025-04-06, from: Richard Murray’s blog</p>
<p>Five thousand, Mowing!!!, Coffee capsules, Sad Trump!, Sakura starts!
Swallows!, Vegetables, Hovercat.</p>
<p><br></p>
<p><a href="https://heyrick.eu/blog/index.php?diary=20250406"
class="uri">https://heyrick.eu/blog/index.php?diary=20250406</a></p>
<hr />
<h2 id="rool-aims-high-with-their-moonshots-initiative">ROOL aims high
with their Moonshots initiative</h2>
<p>date: 2025-04-06, from: RiscOS Story</p>
<p>The day before the RISC OS North show last week, RISC OS Open Ltd
(ROOL) published an announcement in the news section of their website,
and emailed a press release to draw attention to it1. Titled
‘“Moonshots” initiative to Secure the Future of the OS’, the
announcement outlines a significant problem that the operating system
faces – one that most RISC OS users will already be well aware of: That
RISC OS is 32-bit, while more and more new Arm processors are 64-bit. To
expand, a notable amount of the…</p>
<p><br></p>
<p><a href="https://www.riscository.com/2025/rool-moonshots-initiative/"
class="uri">https://www.riscository.com/2025/rool-moonshots-initiative/</a></p>
<hr />
<h2 id="maclynx-beta-6-back-to-the-power-mac">MacLynx beta 6: back to
the Power Mac</h2>
<p>date: 2025-04-06, from: Old Ventage Computing Research</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhDuxcQk4dzyHNcOak_RHAyO9gKDs2gpe52RzBAcwmOJg2JCmM0tKUqn6lzlrefwNX_eD46OjkJsC9U7wHK3O0gKmMbJ_thlT3SMX5KoVUHy321kPK7z6Umav5zqAxvRKXsDWuSFsbh33I6Dcv2AwjFgYj8XEXFZZlJuCC_-nS5dtdItpXjHJK6TfWf8_8/s832/Picture%2019.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="624" data-original-width="832" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhDuxcQk4dzyHNcOak_RHAyO9gKDs2gpe52RzBAcwmOJg2JCmM0tKUqn6lzlrefwNX_eD46OjkJsC9U7wHK3O0gKmMbJ_thlT3SMX5KoVUHy321kPK7z6Umav5zqAxvRKXsDWuSFsbh33I6Dcv2AwjFgYj8XEXFZZlJuCC_-nS5dtdItpXjHJK6TfWf8_8/s320/Picture%2019.PNG"/></a>
</div>
<p>Time for another MacLynx save point in its slow, measured evolution
to become your best choice within the remarkably narrow niche of
“classic MacOS text browsers.” Refer to
<a href="/search/label/lynx">prior articles</a> for more of the history,
but MacLynx is a throwback port of the venerable Lynx 2.7.1 to the
classic Mac OS last updated in 1997 which I picked up again
<a href="/2020/11/maclynx-beta-2.html">in 2020</a>. Rather than try to
replicate its patches against a more current Lynx which may not even
build, I’ve been improving its interface and Mac integration along with
the browser core, incorporating later code and patching the old
stuff.</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiDLfUJtvNdMl5pIgjEzjvw-3H8TiGkxPV9NMyIy1BDMU1Va5s2vnYjv8mnWLBAg8wE0Ul3E9JtpjR9gIdrJSsEoJoEX-8c3l5GLgWkG-et7TMdI2SCRmq49Bb395u3y8tYbUZk-bY_wvnoSUGeHyKl6T58-2hGtgtHi0edw9Aoco84bRvUhMT0b9CsnUA/s1920/Picture%2017.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiDLfUJtvNdMl5pIgjEzjvw-3H8TiGkxPV9NMyIy1BDMU1Va5s2vnYjv8mnWLBAg8wE0Ul3E9JtpjR9gIdrJSsEoJoEX-8c3l5GLgWkG-et7TMdI2SCRmq49Bb395u3y8tYbUZk-bY_wvnoSUGeHyKl6T58-2hGtgtHi0edw9Aoco84bRvUhMT0b9CsnUA/s320/Picture%2017.PNG"/></a>
</div>
The biggest change in beta 6 is bringing it back to the Power Macintosh
with a native PowerPC build, shown here running on my 1.8GHz Power Mac
G4 MDD. This is built with a much later version of CodeWarrior (Pro
7.1), the same release used for Classilla and generating better
optimized code than the older fat binary, and was an opportunity to
simultaneously wring out various incompatibilities. Before the 68000
users howl, the 68K build is still supported!
<p>
<a name='more'></a>
<p>
However, beta 6 is <em>not</em> a fat binary — the two builds are
intentionally separate. One reason is so I can use a later CodeWarrior
for better code that didn’t have to support 68K, but the main one is to
consider different code on Power Macs which may be expensive or
infeasible on 68K Macs. The primary use case for this — which may occur
as soon as the next beta — is adding a built-in vendored copy of
<a href="/search/label/crypto%20ancienne">Crypto Ancienne</a> for
onboard TLS without a proxy. On all but upper-tier 68040s, setting up
the TLS connection takes longer than many servers will wait, but even
the lowliest Performa 6100 with a barrel-bottom 60MHz 601 can do so
reasonably quickly.
<p>
The port did not go altogether smoothly. While Olivier Gutknecht’s
original fat binary worked fine on Power Macs, it took quite a while to
get all the pieces reassembled on a later CodeWarrior with a later
version of <a href="https://sourceforge.net/projects/gusi/">GUSI</a>,
the Mac POSIX glue layer which is a critical component (the Power Mac
version uses 2.2.3, the 68K version uses 1.8.0). Some functions had
changed and others were missing and had to be rewritten with later
alternatives. One particularly obnoxious glitch was due to a conflict
between the later GUSI’s <tt>time.h</tt> and Apple Universal Interfaces’
<tt>Time.h</tt> (remember, HFS+ is case-<em>in</em>sensitive) which
could not be solved by changing the search order in the project due to
other conflicting headers. The simplest solution was to copy
<tt>Time.h</tt> into the project and name it something else!
<p>
<p>Even after that, though, basic Mac GUI operations like popping open
the URL dialogue would cause it to crash. Can you figure out why? Here’s
a hint:</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiVPiOToTdKAbkqIpaJz56Ri93e0YijkBp_aWFr-UNK2PtG-GlSX8u0XlHx9vKfZEDyU5kdwzBm9Td3_L8FePt0XuplSIojxji4NTD7BS4UlYVQXp7qqSvm9m-OaACNIxIrtfR07L-qFjagZv6Ik9LnmZ8QHEIAEFiyvnu_JXbDujzomA1Fby77vqJRV4w/s1920/Picture%2014.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiVPiOToTdKAbkqIpaJz56Ri93e0YijkBp_aWFr-UNK2PtG-GlSX8u0XlHx9vKfZEDyU5kdwzBm9Td3_L8FePt0XuplSIojxji4NTD7BS4UlYVQXp7qqSvm9m-OaACNIxIrtfR07L-qFjagZv6Ik9LnmZ8QHEIAEFiyvnu_JXbDujzomA1Fby77vqJRV4w/s320/Picture%2014.PNG"/></a>
</div>
Pencils down. If you’re an old Mac programmer, you’ve immediately
spotted the conveniently highlighted cause in the screenshot, but if
you’re not, here’s the answer: when providing function pointers to
Toolbox routines, you have to tell the operating system whether it’s
going to run PowerPC or 68K code. The normal state, as it were, of the
Power Macintosh nanokernel is to be monitoring the on-board 68K emulator
running 68K code, even in New World Macs, and even in later versions of
the operating system where most of the Mac OS was finally PowerPC-native
(watch for the message “into the 68K fire” when running a Power Mac ROM
with logging on). Don’t confuse this with the normal state of your
<em>application</em>: your application itself was almost certainly fully
native. However, a certain amount of the Toolbox and the Mac OS
<a href="/2022/07/a-brief-dive-into-power-mac-inits-and.html">retained
68K code</a>, even in the days of Classic under Mac OS X, and your
PowerPC application would invariably hit one of these routines
eventually.
<p>
The component responsible for switching between ISAs is the Mixed Mode
Manager, which is tightly integrated with the 68K emulator and bridges
the two architectures’ different calling conventions, marshalling their
parameters (PowerPC in registers, 68K on the stack) and managing return
addresses. I’m serious when I say the normal state is to run 68K code:
68K code is necessarily <em>the</em> first-class citizen in Mac OS, even
in PowerPC-only versions, because to run 68K apps seamlessly they must
be able to call any 68K routine directly. All the traps that 68K apps
use must also look like 68K code to them — and PowerPC apps often use
those traps, too, because they’re fundamental to the operating system.
68K apps can and do call code fragments in either ISA using the Code
Fragment Manager (and PowerPC apps are obliged to), but the system must
still be able to run non-CFM apps that are unaware of its existence.
<p>
<p>To jump to native execution thus requires an additional step. Say a
68K app running in emulation calls a function in the Toolbox which used
to be 68K, but is now PowerPC. On a 68K MacOS, this is just 68K code. In
later versions, this is replaced by a routine descriptor with a special
trap meaningful only to the 68K emulator. This descriptor contains the
destination calling convention and a pointer to the PowerPC function’s
transition vector, which has both the starting address of the code
fragment and the initial value for the TOC environment register. The MMM
converts the parameters to a PowerOpen ABI call according to the
specified convention and moves the return address into the PowerPC link
register, and upon conclusion converts the result back and unwinds the
stack. The same basic idea works for 68K code calling a PowerPC routine.
Unfortunately, we forgot to make a descriptor for this and other
routines the Toolbox modal dialogue routine expected to call, so the
nanokernel remains in 68K mode trying to execute them and makes a big
mess. (It’s really hard to debug it when this happens, too; the
backtrace is usually totally thrashed.)</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj3XNNBdAOrDkTv4N_pljDPNN3Qi5E_ppoCOOIVlADVdQweh7ZiDo1cHHRxVGRtkHLXakGj1En03bjt9zr5t_bkmaZ45yFkyjySxgbrxpbWx47mtbgkFQGm_XteqmQIVb2-fD2dEYBH15QMUvy4S243-7JDQWnTtMi_FF0VzV3x151rhMTo3tw6s4uUhls/s1920/Picture%2016.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj3XNNBdAOrDkTv4N_pljDPNN3Qi5E_ppoCOOIVlADVdQweh7ZiDo1cHHRxVGRtkHLXakGj1En03bjt9zr5t_bkmaZ45yFkyjySxgbrxpbWx47mtbgkFQGm_XteqmQIVb2-fD2dEYBH15QMUvy4S243-7JDQWnTtMi_FF0VzV3x151rhMTo3tw6s4uUhls/s320/Picture%2016.PNG"/></a>
</div>
Because we have access to the source code and know what we’re calling
(it’s our own code), we can simply use an Apple-provided macro to create
a static descriptor on the stack as needed. This is a(n in)famous
Universal Procedure Pointer, bane of later System 7 programmers
everywhere. If you’re not sure what you’re calling or you’re calling a
library you don’t control, you’re reduced to writing these descriptors
manually and/or often putting them on the heap. We don’t have to do
either of those things here, and for other things Apple’s Universal
Headers generally bridge the differences — meaning mostly the same code
just works on both our 68K CodeWarrior and our much later PowerPC
CodeWarrior.
<p>
Do note that the PowerPC version is already different in one respect: it
has a 4MB preferred allocation instead of the 68K’s 2MB. No Power Mac
ever shipped with less than 8MB of RAM and many Power Macs even have
that or a similar amount soldered to the logic board. It also may have
problems with 7.1.2, so if you’re running a 601 Power Mac that you don’t
want to upgrade to 7.5 or later, you may need to run the 68K version
which still supports 7.0 and 7.1. Otherwise the two versions of beta 6
should act exactly the same. If you notice differences in behaviour, or
you get crashes with certain operations, post in the comments.
<p>
<p>A couple UI changes in this release. I mentioned
<a href="/2023/08/maclynx-beta-5-utf-8-pull-down-menus.html">the last
time</a> that my idea with MacLynx is to surround the text core with the
Mac interface. Lynx keys should still work and it should still act like
Lynx, but once you move to a GUI task you should stay in the GUI until
that task is completed. In beta 5, I added support for the Standard File
package so you get a requester instead of entering a filename, but once
you do this you still need to manually select “Save to disk” inside
Lynx. That changes in beta 6:</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgUL0-Zryi-XIP0vWhA9DTn73Ys_oG6ispwv1yocogQ3vhMfzlaWf7IsQuWZ4R6kk-dHRCeeysVHZ3QYO4ogOe44MDtX6Ny0xKc9WbGVxSiqgPqFYtSl-nvJhOQfWNEULa0GNXmVazQ5lJXqQB5nvrl7hoSIkcSGaDawFViyl5S9s9JqYlI9vO7BXI3E6Y/s832/Picture%2018.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="624" data-original-width="832" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgUL0-Zryi-XIP0vWhA9DTn73Ys_oG6ispwv1yocogQ3vhMfzlaWf7IsQuWZ4R6kk-dHRCeeysVHZ3QYO4ogOe44MDtX6Ny0xKc9WbGVxSiqgPqFYtSl-nvJhOQfWNEULa0GNXmVazQ5lJXqQB5nvrl7hoSIkcSGaDawFViyl5S9s9JqYlI9vO7BXI3E6Y/s320/Picture%2018.PNG"/></a>
</div>
The download modal now offers you a direct “Save to disk” option (which,
under the hood, “pushes all the keys” for you). You can still use Lynx
keys in the modal just as before, but now that your hand is on the
mouse, you can finish everything with mouse clicks. Speaking of, beta 6
also corrects a bug where you couldn’t overwrite a file with a new one
you were saving, even though it would ask you if you wanted to. I also
found and fixed a problem that manifested in the PowerPC build (but
would affect the 68K build also) when translating slashed paths into
MacOS colon paths, turning double slashes into <tt>::</tt> which in
MacOS is treated as the parent folder.
<p>
Resizing, scrolling and repainting are also improved. The position of
the thumb in MacLynx’s scrollbar is now implemented using a more complex
but yet more dynamic algorithm which should also more properly respond
to resize events. A similar change fixes scroll wheels with USB
Overdrive. When MacLynx’s default window opens, a scrollbar control is
artificially added to it. USB Overdrive implements its scrollwheel
support by finding the current window’s scrollbar, if any, and emulating
clicks on its up and down (or left and right) buttons as the wheel is
moved. This works fine in MacLynx, at least initially. When the window
is resized, however, USB Overdrive seems to lose track of the scrollbar,
which causes its scrollwheel functionality to stop working. The solution
was to destroy and rebuild the scrollbar after the window takes its new
dimensions, like what happens on start up when the window first opens.
This little song and dance may also fix other scrollwheel extensions.
<p>
<p>Always keep in mind that the scrollbar is actually used as a means to
send commands to Lynx to change its window on the document; it isn’t
scrolling, say, a pre-rendered GWorld. This causes the screen to be
redrawn quite frequently, and big window sizes tend to chug. You can
also outright crash the browser with large window widths: this is
difficult to do on a 68K Mac with on-board video where the maximum
screen size isn’t that large, but on my 1920x1080 G4 I can do so
reliably.</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjSWl_NBfAV5t6J-sCafCra5RSNxoltvxqC7Z9px6iGknty61p3L9SILEmMHWwqSwfGDdgQJ8Lsj7D7Ew87McyOvUnn7ewZaJ95c8-O2v729Ehsh4Gh60-D6XlfnJvzdtCfMp8gTfqA1KctKbHuhdQ5HZ8USeK2LcFQOJEdSqk_QYW7lNlkDbiBKmMVaSg/s1920/Picture%2010.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjSWl_NBfAV5t6J-sCafCra5RSNxoltvxqC7Z9px6iGknty61p3L9SILEmMHWwqSwfGDdgQJ8Lsj7D7Ew87McyOvUnn7ewZaJ95c8-O2v729Ehsh4Gh60-D6XlfnJvzdtCfMp8gTfqA1KctKbHuhdQ5HZ8USeK2LcFQOJEdSqk_QYW7lNlkDbiBKmMVaSg/s320/Picture%2010.PNG"/></a>
</div>
For this reason, I arbitrarily decided to enforce a maximum 132 column
size because otherwise MacLynx crashes with a null pointer if the screen
is too wide, likely an intrinsic problem with MacCurses trying to handle
such a large screen matrix. This is not as big a hardship as it might
seem because scrolling becomes slower and slower the bigger the window
gets — after all, it’s not really “scrolling” anything, it’s redrawing
practically the entire screen every time! You can just drag the window
out to whatever width and it will snap back to the maximum.
<p>
Conversely, beta 6 also requires a minimum of 80 columns’ width. Lynx
prompts can look bad at smaller widths and it’s not really designed for
screen sizes smaller than that, so now we don’t let it. Even a 512x384
Mac can still manage an 80-column window with the standard Monaco
nine-point font. In a like fashion you can drag the window back in
smaller than 80 columns and it will snap back to the minimum.
<p>
When resizing horizontally, MacLynx now forces a reload if the width
changes and the current document was fetched with an idempotent HTTP
method (i.e., GET), since MacLynx (quite reasonably) doesn’t cache the
HTML; rather, it caches its rendered version, which is now the wrong
width. If the method is not idempotent, you get to reload the page
yourself. If you simply resize vertically and the horizontal width
doesn’t change (or it keeps snapped to the minimum or maximum), no
reload is required.
<p>
A number of bugs are also fixed in the new UTF-8 support added to beta
5. Among them is a character set overhaul to prevent Lynx from
internally disagreeing with itself about whether high-bit characters
should be interpreted as native MacRoman, or part of a UTF-8 sequence
which gets converted to MacRoman. Because of the need to support more
UTF-8, including HTML entities and other things which may generate it,
the other character sets available in MacLynx other than ISO Latin 1,
7-bit Approximations and the Macintosh 8-bit default are now officially
deprecated and will likely be removed in future betas. In fact, I’m
considering going further and eliminating other character set support
except for Macintosh 8-bit, effectively making the character set option
in <tt>lynx.cfg</tt> a no-op. However, if you are <em>intentionally</em>
using another character set and this will break you, please feel free to
plead your use case to me and I will consider it.
<p>
<p>Another bug fixed was an infinite loop that could trigger during
UTF-8 conversion of certain text strings. These sorts of bugs are also a
big pain to puzzle out because all you can do from CodeWarrior is force
a trap with an NMI, leaving the debugger’s view of the program counter
likely near but probably not at the scene of the foul. Eventually I
single-stepped from a point <em>near</em> the actual bug and was able to
see what was happening, and it turned out to be a very stupid bug on my
part, and that’s all I’m going to say about that.</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2NomFsMnp5nhsVHxo_geQo-nOhunQw39XthdWZfkst4Am1DqWogHrcZfbECpkRaGJcOjdwpt4cr0J06KIpDVA5JngCPBEZRiqsK1SwzYTFBdPbJOYk9l6KSoXB8FhUJ97Je_zW947xuBN84KX5zqQwhsUnBlU9v_PL-9FOBuqrywl7ffx04emOcLTKqY/s1920/Picture%2012.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2NomFsMnp5nhsVHxo_geQo-nOhunQw39XthdWZfkst4Am1DqWogHrcZfbECpkRaGJcOjdwpt4cr0J06KIpDVA5JngCPBEZRiqsK1SwzYTFBdPbJOYk9l6KSoXB8FhUJ97Je_zW947xuBN84KX5zqQwhsUnBlU9v_PL-9FOBuqrywl7ffx04emOcLTKqY/s320/Picture%2012.PNG"/></a>
</div>
Cookies were also significantly overhauled (please note that this is in
no way a reflection on mainline Lynx, which handles them in a much more
modern fashion): as proof, here we are browsing Hacker News and posting
a comment. After teaching MacLynx what the <tt>SameSite</tt> and
<tt>HttpOnly</tt> (irrelevant on Lynx but supported for completeness)
attributes are, the next problem was that any cookie with an expiration
value — which nowadays is nearly any login cookie — wouldn’t stick. The
problem turned out to be the difference in how the classic MacOS handles
time values. In 32-bit Un*xy things, including Mac OS X, <tt>time_t</tt>
is a signed 32-bit integer with an epoch starting on Thursday, January
1, 1970. In the classic MacOS, <tt>time_t</tt> is an <em>un</em>signed
32-bit integer with an epoch starting on Friday, January 1,
<em>1904</em>. (This is also true for timestamps in HFS+ filesystems,
even in Mac OS X and modern macOS, but not APFS.) Lynx has a utility
function that can convert a ASCII date string into a
seconds-past-the-epoch count, but in case you haven’t guessed, this
function defaults to the Unix epoch. In fact, the version previously in
MacLynx <em>only</em> supports the Unix epoch. That means when converted
into seconds after the epoch, the cookie expiration value would always
appear to be in the past compared to the MacOS time value which, being
based on a much earlier epoch, will always be much larger — and thus
MacLynx would conclude the cookie was actually expired and politely
clear it. I reimplemented this function based on the MacOS epoch, and
now login cookies actually let you log in! Unfortunately other cookies
like trackers can be set too, and this is why we can’t have nice things.
Sorry. At least they don’t persist between runs of the browser.
<p>
<p>Even then, though, there’s still some additional time fudging because
<tt>time(NULL)</tt> on my Quadra 800 running 8.1 and <tt>time(NULL)</tt>
on my G4 MDD running 9.2.2, despite their clocks being synchronized to
the same NTP source down to the second, yielded substantially different
values. Both of these calls should go to the operating system and use
the standard Mac epoch, and not through GUSI, so GUSI can’t be why. For
the time being I use a second fudge factor if we get an outlandish
result before giving up. I’m still trying to figure out why this is
necessary.</p>
<div class="separator" style="clear: both;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQoUwmfVYP-1uIUMO_btT1sp2dZZ3-B2v1NbCqNl3PhAOSwYWaHkG6QseXbhd82LrsjG0_f97g2es9CBwZUV8fYNQQNGuz4pRTSIoLm2I76ASMcXeV0aulBw9IhKN0EPXNmcmLkboQ3JZRaZLXG2RGGxOuASKqI-47i6gqwRxpKvIYNMDfg9IKCbaRtVc/s1920/Picture%2011.PNG" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="1080" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQoUwmfVYP-1uIUMO_btT1sp2dZZ3-B2v1NbCqNl3PhAOSwYWaHkG6QseXbhd82LrsjG0_f97g2es9CBwZUV8fYNQQNGuz4pRTSIoLm2I76ASMcXeV0aulBw9IhKN0EPXNmcmLkboQ3JZRaZLXG2RGGxOuASKqI-47i6gqwRxpKvIYNMDfg9IKCbaRtVc/s320/Picture%2011.PNG"/></a>
</div>
You may have noticed the images in some of these screenshots. They
appear courtesy of MacLynx’s picture viewer functionality, which will
download images and hand them off to the viewer of your choice (on the
G4 I use QuickTime 6’s Picture Viewer, using the signature
<tt>ogle</tt>). This didn’t work for PNG images before because it was
using the wrong internal MIME type, which is now fixed. (Ignore the MIME
types in the debug window because that’s actually a problem I noticed
with my Internet Config settings, not MacLynx. Fortunately Picture
Viewer will content-sniff, so it figures it out.) Finally, there is also
miscellaneous better status code and redirect handling (again not a
problem with mainline Lynx, just our older fork here), which makes login
and browsing sites more streamlined, and you can finally press Shift-Tab
to cycle <em>backwards</em> through forms and links.
<p>
<p>If you want to build MacLynx from source, building beta 6 is largely
the same on 68K with
<a href="/2023/08/maclynx-beta-5-utf-8-pull-down-menus.html">the same
compiler and prerequisites</a> except that builds are now segregated to
their own folders and you will need to put a copy of <tt>lynx.cfg</tt>
in with them (the StuffIt source archive does not have aliases predone
for you). For the PowerPC version, you’ll need the same set up but
substituting CodeWarrior Pro 7.1, and, like CWGUSI, GUSI 2.2.3 should be
in the same folder or volume that contains the MacLynx source tree.
There are debug and optimized builds for each architecture. Pre-built
binaries and source are available from
<a href="http://www.floodgap.com/retrotech/mac/lynx/">the main MacLynx
page</a>. MacLynx, like Lynx, is released under the GNU General Public
License v2.</p>
<p><br></p>
<p><a
href="https://oldvcr.blogspot.com/2025/04/maclynx-beta-6-back-to-power-mac.html"
class="uri">https://oldvcr.blogspot.com/2025/04/maclynx-beta-6-back-to-power-mac.html</a></p>
<hr />
<h2 id="freedos-1.4-is-here">FreeDOS 1.4 is here!</h2>
<p>date: 2025-04-06, from: FreeDOS News</p>
<div class="markdown_content">
<p>
<strong>Download the FreeDOS 1.4 distribution!</strong> This version
includes an updated FreeCOM, Install program, and HTML Help system. This
also includes improvements to many of the utilities including FDISK,
JEMM, 7Zip, FORMAT, FASM, MORE, RUNTIME, and more! Packages have been
reorganized in FreeDOS 1.4 so they will be easier to find: The LiveCD
installs a complete user-based DOS system including standard DOS
programs, Applications, Archivers, Device Drivers, Games, Networking,
Sound, and basic tools. Use the BonusCD to install Development, Editors,
Boot Tools, OpenGEM, and extra utilities. Most users should use the Live
CD image to install FreeDOS, especially if you’re using a virtual
machine. We also have a USB installer for real hardware, a Legacy CD
installer for older hardware, and a floppy edition for classic hardware.
<a class="" href="https://www.freedos.org/download/" rel="nofollow">Download
now!</a>
</p>
</div>
<p><br></p>
<p><a
href="https://sourceforge.net/p/freedos/news/2025/04/freedos-14-is-here/"
class="uri">https://sourceforge.net/p/freedos/news/2025/04/freedos-14-is-here/</a></p>
</section>
<footer>
Antenna is a personal aggregation of items found around the web.
Curated with <a href="https://rsdoiel.github.io/skimmer">skimmer</a> and <a href="https://sqlite.org">sqlite</a> then rendered with <a href="https://pandoc.org">Pandoc</a>.
</footer>
</body>
</html>
